window.__require=function e(t,n,a){function o(r,c){if(!n[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!c&&u)return u(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var s=n[r]={exports:{}};t[r][0].call(s.exports,function(e){return o(t[r][1][e]||e)},s,s.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({all_modules:[function(e,t,n){"use strict";cc._RF.push(t,"74d5cdOYhJKHLkeyIiWp4KQ","all_modules"),n.__esModule=!0;var a=e("./configs");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=a[e])});var o=e("./utils/utils");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=o[e])});var i=e("./utils/utils_facebook");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=i[e])});var r=e("./utils/video");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=r[e])});var c=e("./utils/inter_ad");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=c[e])});var l=e("./social/friend");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=l[e])});var u=e("./utils/audio");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=u[e])});var s=e("./ui-fx/ui");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=s[e])});var d=e("./ui-fx/fx");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=d[e])});var f=e("./ui-fx/ui_challenge");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=f[e])});var p=e("./ui-fx/ui_power_item");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=p[e])});var _=e("./tut/tut");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=_[e])});var h=e("./tut/tut_rolated");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=h[e])});var m=e("./tut/tut_bom");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=m[e])});var v=e("./tut/tut_relocated");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=v[e])});var g=e("./tut/tut_triple");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=g[e])});var y=e("./logic/login");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=y[e])});var b=e("./logic/data");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=b[e])});var C=e("./logic/game");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=C[e])});var T=e("./logic/user");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=T[e])});var w=e("./core/control");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=w[e])});var P=e("./core/map");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=P[e])});var S=e("./core/map_visual");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=S[e])});var O=e("./social/social");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=O[e])});var B=e("./social/promo");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=B[e])});var x=e("./social/leaderboard");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=x[e])});var k=e("./utils/localize");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=k[e])});var I=e("./utils/localize_config");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&(n[e]=I[e])}),cc._RF.pop()},{"./configs":"configs","./core/control":"control","./core/map":"map","./core/map_visual":"map_visual","./logic/data":"data","./logic/game":"game","./logic/login":"login","./logic/user":"user","./social/friend":"friend","./social/leaderboard":"leaderboard","./social/promo":"promo","./social/social":"social","./tut/tut":"tut","./tut/tut_bom":"tut_bom","./tut/tut_relocated":"tut_relocated","./tut/tut_rolated":"tut_rolated","./tut/tut_triple":"tut_triple","./ui-fx/fx":"fx","./ui-fx/ui":"ui","./ui-fx/ui_challenge":"ui_challenge","./ui-fx/ui_power_item":"ui_power_item","./utils/audio":"audio","./utils/inter_ad":"inter_ad","./utils/localize":"localize","./utils/localize_config":"localize_config","./utils/utils":"utils","./utils/utils_facebook":"utils_facebook","./utils/video":"video"}],audio:[function(e,t,n){"use strict";cc._RF.push(t,"88b28IoBUlP2qQJxs0a1LIc","audio"),n.__esModule=!0,n.audio=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function r(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var l={audioList:{},playingIdList:{},isSoundOff:!0,init:function(){var e=this;a.login.addLoginDataField("isSoundOff"),a.login.addCallback(function(t){e.isSoundOff=t.isSoundOff,e.renderBtnSound(),e.loadAudios()});var t=cc.find("Canvas/layer_pause/btn_sound_off");a.utils.addButtonComp(t,function(){e.isSoundOff=!1,e.playMusic(),a.ui.showNagScreen(),a.data.saveData({isSoundOff:!1},function(){e.renderBtnSound(),a.ui.hideNagScreen()})});var n=cc.find("Canvas/layer_pause/btn_sound_on");a.utils.addButtonComp(n,function(){e.isSoundOff=!0,e.stopMusic(),a.ui.showNagScreen(),a.data.saveData({isSoundOff:!0},function(){e.renderBtnSound(),a.ui.hideNagScreen()})})},renderBtnSound:function(){cc.find("Canvas/layer_pause/btn_sound_off").active=this.isSoundOff,cc.find("Canvas/layer_pause/btn_sound_on").active=!this.isSoundOff},loadAudios:function(){var e=this;cc.resources.loadDir("audios",cc.AudioClip,function(t,n){if(t)return _log(t);for(var a,o=i(n);!(a=o()).done;){var r=a.value;e.audioList[r.name]=r}e.playMusic()})},playSound:function(e,t){void 0===t&&(t=1),this.isSoundOff||(this.playingIdList[e]=cc.audioEngine.play(this.audioList[e],!1,t))},stopSound:function(e){this.playingIdList[e]&&cc.audioEngine.stopEffect(this.playingIdList[e])},playMusic:function(){if(!this.isSoundOff&&!cc.audioEngine.isMusicPlaying())try{this.playingIdList.back_ground_music=cc.audioEngine.playMusic(this.audioList.back_ground_music,!0,1)}catch(e){_log("playMusic err ",e)}},stopMusic:function(){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.stopMusic()},playSoundClickButton:function(){this.isSoundOff||this.playSound("click",.2)},updateUiSoundButton:function(){cc.find("Canvas/layer_pause/btn_sound_on"),cc.find("Canvas/layer_pause/btn_sound_off")}};n.audio=l,cc._RF.pop()},{"../all_modules":"all_modules"}],blockAsset:[function(e,t){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}cc._RF.push(t,"a85f5pSvJxKfb+SdUSNquhZ","blockAsset"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}a.default=e,t&&t.set(e,a)}(e("../all_modules")),cc.Class({extends:cc.Component,properties:{assetBlock:{default:[],type:[cc.SpriteFrame]}}}),cc._RF.pop()},{"../all_modules":"all_modules"}],block_collision_handler:[function(e,t){"use strict";cc._RF.push(t,"8bfb5rS031ICo5XUCoumhuR","block_collision_handler");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}cc.Class({extends:cc.Component,properties:{collidingCellArr:[],newItemPosDiff:cc.v2(0,0),cellPosDiff:cc.v2(0,0),highlightCellArr:[]},onLoad:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e){this.collidingCellArr.push(e.node)},onCollisionStay:function(){var e,t=n.utils.global2LocalPosDiff(this.node,0,0),a=999;this.collidingCellArr.map(function(o){var i=n.utils.global2LocalPosDiff(o,0,0).sub(t).mag();i<a&&(a=i,e=o)});var o=e.name.replace("Image_HexBlock_",""),i=n.map.checkNewItemDroppableAtCell(o);if(i&&(this.unfocusAllCells(),this.highlightCell(e),n.map.selectedCell=e,"single_block"!=n.game.currentItemBiasType)){var r=n.map.minorCell=cc.find("Canvas/play_area/map/Image_HexBlock_"+i);this.highlightCell(r)}},onCollisionExit:function(e){n.map.selectedCell&&this.unfocusCell(n.map.selectedCell),n.map.minorCell&&this.unfocusCell(n.map.minorCell),n.map.selectedCell=null,n.map.minorCell=null,_removeArrItem(this.collidingCellArr,e.node)},highlightCell:function(e){e.getChildByName("bg").opacity=128,this.highlightCellArr.push(e)},unfocusCell:function(e){e.getChildByName("bg").opacity=51,_removeArrItem(this.highlightCellArr,e)},unfocusAllCells:function(){var e=this;this.highlightCellArr.map(function(t){return e.unfocusCell(t)})}}),cc._RF.pop()},{"../all_modules":"all_modules"}],canvas_init:[function(e,t){"use strict";cc._RF.push(t,"edbc09V+u1Go6WX4KJs6Rar","canvas_init");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("./all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}cc.Class({extends:cc.Component,onLoad:function(){for(var e in window._GAME=n,n)n[e].init&&n[e].init();n.utilsFB.log("ev_game_load_time",performance.now()),n.cocosLoadTime=(performance.now()/1e3).toFixed(2),n.utils.setLabelText(cc.find("Canvas/layer_pause/label_load_time"),n.cocosLoadTime),n.utils.setTimeout(function(){n.social.askBotSubscribe(function(){return n.social.askShortcut()})},1e3);var t=document.getElementById("htmlLoadingBackground");t&&(t.style.display="none")}}),cc._RF.pop()},{"./all_modules":"all_modules"}],cell_links:[function(e,t){"use strict";cc._RF.push(t,"b2399tIlatFcb6Z+FaLPjhH","cell_links"),t.exports={"8_4":"right_bias","4_1":"right_bias","13_9":"right_bias","9_5":"right_bias","5_2":"right_bias","17_14":"right_bias","14_10":"right_bias","10_6":"right_bias","6_3":"right_bias","18_15":"right_bias","15_11":"right_bias","11_7":"right_bias","19_16":"right_bias","16_12":"right_bias","8_13":"left_bias","13_17":"left_bias","4_9":"left_bias","9_14":"left_bias","14_18":"left_bias","1_5":"left_bias","5_10":"left_bias","10_15":"left_bias","15_19":"left_bias","2_6":"left_bias","6_11":"left_bias","11_16":"left_bias","3_7":"left_bias","7_12":"left_bias","1_2":"horizontal","2_3":"horizontal","4_5":"horizontal","5_6":"horizontal","6_7":"horizontal","8_9":"horizontal","9_10":"horizontal","10_11":"horizontal","11_12":"horizontal","13_14":"horizontal","14_15":"horizontal","15_16":"horizontal","17_18":"horizontal","18_19":"horizontal"},cc._RF.pop()},{}],configs:[function(e,t,n){"use strict";cc._RF.push(t,"fdca8wFyltOr6zw44vo+4w/","configs"),n.__esModule=!0,n.configs=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("./all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={off_inter_ads:!1,off_power_item:!1,leaderboardName:"score_global",leaderboardPlayerCount:15,isShowPromoGames:cc.sys.os!=cc.sys.OS_IOS,listIdPromoGame:["1290260324506853","227806484682918","617940745660759"],totalTurnAds:3,canShowAndLoadInter:!1,interAdId:"1039089903197791_1060209887752459",interAdRatio:{gameOverReplay:1},videoRewardId:"1039089903197791_1045666869206761",videoContinueTime:1,maxCountCancelChallenge:3,showInterAdAfterEveryReplayTime:3,biasType:{1:["right_bias","left_bias","single_block"],2:["right_bias","horizontal","single_block"],3:["right_bias","left_bias","horizontal"],4:["right_bias","left_bias","horizontal","single_block"]},stepCount2BiasTypeArr:function(e){var t=0;for(var n in this.biasType){if(n>e)return this.biasType[t];n<=e&&(t=n)}return this.biasType[t]},blockNumber:{1:[1,2,3,4,5,6]},stepCount2BlockNumerArr:function(e){var t=0;for(var n in this.blockNumber){if(n>e)return this.blockNumber[t];n<=e&&(t=n)}return this.blockNumber[t]},singleBlockPoint:{1:2,2:4,3:8,4:16,5:32,6:64,7:128},scoreFactor:{3:3,4:3.5,5:5,6:6.5,7:8},calculateScore:function(e,t){return parseInt(a.configs.singleBlockPoint[e]*(a.configs.scoreFactor[t]||1))}};n.configs=i,cc._RF.pop()},{"./all_modules":"all_modules"}],control:[function(e,t,n){"use strict";cc._RF.push(t,"c7ad2Kl8kxELKAtoLzViwxY","control"),n.__esModule=!0,n.control=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i=cc.v2(0,150);cc.RotateBy._reverse=!0;var r={newItemNode:null,init:function(){var e,t,n=this,o=this.newItemNode=cc.find("Canvas/play_area/new_item_container/new_item"),r=a.utils.global2LocalPosDiff(o,0,0);a.utils.singleTouchSet(o,function(n){o.isBeingDragged=!0,e=n,t=_time()},function(t){t.sub(e).mag()<20||(n.setArrowsActive(!1),a.tut.checkHideTutHand(),o.isBeingDragged&&(o.position=t.add(r).add(i)))},function(i){o.isBeingDragged=!1,o.position=cc.v2(0,0),a.tut.checkShowTutHand(),n.setArrowsActive(!1),"single_block"!=a.game.currentItemBiasType&&e.sub(i).mag()<10&&_time()-t<400&&o.position.mag()<10&&(a.tutRolated.checkDoneTutRolated()||a.tutRolated.endTut(),a.game.swapNewItemBlocks()),a.map.selectedCell&&a.game.dropNewItemAtCell(a.map.selectedCell.cellNumber,a.map.minorCell?a.map.minorCell.cellNumber:null)})},setArrowsActive:function(e){var t=cc.find("Canvas/play_area/new_item_container/new_item/arrows");return t.active=e,t},setKeyBlock:function(e){var t=_abs(e.parent.angle%360)>90?e.position.mul(2):cc.v2(),n=cc.find("Canvas/play_area/new_item_container/new_item/key_block_collider");a.utils.setGlobalPositionToNode(n,e),n.x-=t.x,n.y-=t.y},setControlTouchArea:function(e){var t=cc.find("Canvas/play_area/new_item_container/new_item");switch(e){case"single_block":t.width=280,t.height=300;break;case"left_bias":case"right_bias":t.width=240,t.height=380;break;case"horizontal":t.width=300,t.height=300}}};n.control=r,cc._RF.pop()},{"../all_modules":"all_modules"}],data:[function(e,t,n){"use strict";cc._RF.push(t,"b4a28ljNq1Csqic6OP3kCcl","data"),n.__esModule=!0,n.data=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={init:function(){a.data.isUserReady=!0},saveData:function(e,t){window.FBInstant?FBInstant.player.setDataAsync(e).then(function(){t&&t()}):a.utils.setTimeout(function(){for(var n in e)try{localStorage.setItem(n,JSON.stringify(e[n]))}catch(a){_log(a)}t&&t()},500)},loadData:function(e,t){window.FBInstant?FBInstant.player.getDataAsync(e).then(function(e){t&&t(e)}):a.utils.setTimeout(function(){var n={};e.map(function(e){var t=localStorage.getItem(e);if(t)try{n[e]=JSON.parse(t)}catch(a){}}),t&&t(n)},500)},loadEntryPointData:function(){if(window.FBInstant){var e=FBInstant.getEntryPointData();e&&e.player_sent_id&&(a.user.playerIdShare=e.player_sent_id),a.user.entryPointData=e}}};n.data=i,cc._RF.pop()},{"../all_modules":"all_modules"}],free_button_comp:[function(e,t){"use strict";cc._RF.push(t,"2e7e82EJvRBq4M1AC0hpaoZ","free_button_comp");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}cc.Class({extends:cc.Component,freeHandler:function(e){e.target.freeButtonHandlerFunc&&(e.target.freeButtonHandlerFunc(e.target),n.audio.playSoundClickButton())}}),cc._RF.pop()},{"../all_modules":"all_modules"}],friend:[function(e,t,n){"use strict";cc._RF.push(t,"18941O53T5Iy6ueNA/xMtPZ","friend"),n.__esModule=!0,n.friend=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={listFrienlds:[],cacheFriend:[],init:function(){a.utils.setTimeout(function(){})},loadDataFrienld:function(){window.FBInstant&&FBInstant.player.getConnectedPlayersAsync().then(function(e){a.friend.listFrienlds=[],e.map(function(e){a.friend.listFrienlds.push({id:e.getID(),score:0,name:e.getName(),photo:e.getPhoto()})})})},getRandomFriendInList:function(){var e=null;if(a.friend.listFrienlds&&0!=a.friend.listFrienlds.length){var t=function(){var t=a.utils.randomArrItem(a.friend.listFrienlds);if(t)if(0==a.friend.cacheFriend.length)e=t,a.friend.cacheFriend.push(t);else{var n=a.friend.cacheFriend.find(function(e){return e.id==t.id});if(n){for(var o=10;n;)if(t=a.utils.randomArrItem(a.friend.listFrienlds),o--,!(n=a.friend.cacheFriend.find(function(e){return e.id==t.id}))||0==o)return{v:e}}else e=t,a.friend.cacheFriend.push(t)}}();if("object"==typeof t)return t.v}return e},validatePanelCanShow:function(){return a.friend.cacheFriend.length!=a.friend.listFrienlds.length&&!(a.configs.maxCountCancelChallenge<=a.uiChallenge.countCancelChallenge)}};n.friend=i,cc._RF.pop()},{"../all_modules":"all_modules"}],fx:[function(e,t,n){"use strict";cc._RF.push(t,"36bc0/mVadDOI6v66E1+qun","fx"),n.__esModule=!0,n.fx=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i=e("blockAsset"),r={init:function(){a.fx.bubbleForever(cc.find("Canvas/layer_leaderboard/header/btn_brag"))},bubbleForever:function(e,t,n,a,o){void 0===t&&(t=.5),void 0===n&&(n=0),void 0===a&&(a=1),void 0===o&&(o=1.2);var i=e.orgScale||e.scale;e.orgScale||(e.orgScale=i),e.stopAllActions(),e.runAction(cc.repeatForever(cc.sequence(cc.delayTime(n),cc.scaleTo(t,i*o),cc.scaleTo(t,i*a),cc.scaleTo(t,i*o),cc.scaleTo(t,i*a))))},bubbleForeverLabel:function(e,t,n,a,o){void 0===t&&(t=.5),void 0===n&&(n=0),void 0===a&&(a=1),void 0===o&&(o=1.1);var i=e.orgScale||e.scale;e.orgScale||(e.orgScale=i),e.stopAllActions(),e.runAction(cc.repeatForever(cc.sequence(cc.delayTime(n),cc.scaleTo(t,i*o),cc.scaleTo(t,i*a),cc.scaleTo(t,i*o),cc.scaleTo(t,i*a))))},bubble:function(e,t,n,a,o,i){void 0===n&&(n=.5),void 0===a&&(a=0),void 0===o&&(o=1),void 0===i&&(i=1.2);var r=e.orgScale||e.scale;e.orgScale||(e.orgScale=r),e.stopAllActions(),e.runAction(cc.sequence(cc.delayTime(a),cc.scaleTo(n,r*i),cc.scaleTo(n,r*o),cc.scaleTo(n,r*i),cc.scaleTo(n,r*o),cc.callFunc(function(){t&&t()})))},fxScoreNormal:function(e,t,n,o){void 0===o&&(o=.3);var i=a.utils.getGlobalPosition(e);t.map(function(e,t){var r=cc.find("Canvas/play_area/map/Image_HexBlock_"+e),c=cc.find("Canvas/play_area/fx_container"),l=a.utils.copyNodeTo(r,c),u=a.utils.global2LocalPosDiff(l,i.x,i.y);l.getChildByName("bg").active=!1,l.runAction(cc.sequence(cc.moveBy(o,u).easing(cc.easeIn(2)),cc.callFunc(function(){l.removeFromParent(!0),!t&&n&&n()})))})},fxScore7:function(e,t,n,o){void 0===o&&(o=.3),a.audio.playSound("catch_seven");var i,r=cc.find("Canvas/play_area/fx_container"),c=t.map(function(t){var n=cc.find("Canvas/play_area/map/Image_HexBlock_"+t),o=a.utils.copyNodeTo(n,r);return o.getChildByName("bg").active=!1,n==e&&(i=o),o}),l=function(e,t){e.runAction(cc.sequence(cc.scaleTo(o,1.2),cc.scaleTo(o,1))),e.runAction(cc.sequence(cc.delayTime(o),cc.fadeOut(o),cc.callFunc(function(){e.removeFromParent(!0),!t&&n&&n()})));var a=e.getChildByName("sample_block");a.getChildByName("Image_HexBlock").runAction(cc.tintTo(o,255,255,255)),a.getChildByName("label").runAction(cc.fadeOut(o))};l(i,1),a.utils.setTimeout(function(){i.stopAllActions(),i.getChildByName("sample_block").children.map(function(e){return e.stopAllActions()}),c.map(function(e,t){return l(e,t)})},parseInt(1e3*o/2))},freeToolTipNodeArr:[],showScoreToolTip:function(e,t,n,o,i,r,c,l){var u=this;void 0===n&&(n=60),void 0===i&&(i=100),void 0===r&&(r=1.6),void 0===c&&(c=.2),void 0===l&&(l=0);var s=cc.find("Canvas/play_area/fx_container/sample_score_tool_tip"),d=this.freeToolTipNodeArr.pop()||a.utils.copyNodeTo(s,cc.find("Canvas/play_area/fx_container"));a.utils.setLabelText(d,e),a.utils.setGlobalPositionToNode(d,t),d.y+=n,d.active=!0,d.zIndex=999,d.opacity=0,d.runAction(cc.sequence(cc.fadeIn(c),cc.delayTime(l),cc.spawn(cc.moveBy(r,cc.v2(0,i)),cc.fadeOut(r)),cc.callFunc(function(){d.active=!1,u.freeToolTipNodeArr.push(d),o&&o()})))},freeFlyScoreNodeArr:[],singleScoreLabelFly:function(e,t,n){var o=this;void 0===n&&(n=.3);var i=cc.find("Canvas/play_area/fx_container/sample_label_fly_score"),r=this.freeFlyScoreNodeArr.pop()||a.utils.copyNodeTo(i,cc.find("Canvas/play_area/fx_container"));a.utils.setLabelText(r,t),a.utils.setGlobalPositionToNode(r,e);var c=cc.find("Canvas/play_area/labels/label_score"),l=a.utils.getGlobalPosition(c);r.active=!0,r.zIndex=999;var u=a.utils.global2LocalPosDiff(r,l.x,l.y);r.runAction(cc.sequence(cc.moveBy(n,u).easing(cc.easeIn(1.4)),cc.callFunc(function(){r.active=!1,o.freeFlyScoreNodeArr.push(r)})))},multiScoreLabelFly7:function(e,t,n){var o=this,i="+"+a.utils.localizeNumber(parseInt(t/e.length));e.map(function(e,t){var n=cc.find("Canvas/play_area/map/Image_HexBlock_"+e);a.utils.setTimeout(function(){o.singleScoreLabelFly(n,i)},70*t)}),a.utils.setTimeout(function(){return n&&n()},70*e.length)},multiScoreLabelFlyNormal:function(e,t,n,o){var i=this,r="+"+a.utils.localizeNumber(parseInt(n/t.length));t.map(function(t,n){a.utils.setTimeout(function(){i.singleScoreLabelFly(e,r)},70*n)}),a.utils.setTimeout(function(){return o&&o()},70*t.length)},shiningStar:function(){var e=cc.find("Canvas/bg/Image_Background_Stars");e.stopAllActions(),e.runAction(cc.sequence(cc.fadeTo(1.5,63.5),cc.fadeTo(3,255),cc.fadeTo(1.5,127.5)).repeatForever())},showTextGreate:function(e){e&&(e.scale=1,e.runAction(cc.scaleTo(.3,1)))},animStar:function(e){if(e&&0!=e.length){var t=0;e.map(function(e){e.lastScale=e.scale,e.scale=0,e.runAction(cc.sequence(cc.delayTime(t),cc.spawn(cc.rotateTo(.5,-360),cc.scaleTo(.5,e.lastScale)))),t+=1})}},effectForInfo:function(e,t){e.opacity=0,e.x+=t;var n=e.x-t;cc.tween(e).delay(.5).parallel(cc.tween().to(1,{opacity:255}),cc.tween().to(.5,{position:cc.v2(n,e.y)})).start()},effectForButton:function(e,t){e.active=!1,cc.tween(e).delay(t).call(function(e){e.active=!0}).to(.2,{scaleX:1.3,scaleY:1.3},{easing:"backOut"}).to(.2,{scaleX:1,scaleY:1}).start()},effectBoom:function(e,t){e&&cc.tween(e).call(function(){var n=e.getChildByName("sample_block").getChildByName("anim");if(n){0==n.active&&(n.active=!0);var a=n.getComponent(cc.Animation);a.play(a._clips[0].name),a.on("lastframe",function(){}),a.on("finished",function(){t&&t()})}}).to(.2,{opacity:0}).start()},effectTriple:function(e,t){var n=cc.find("Canvas/play_area/triple");e?(0==n.active&&(n.active=!0),n.stopAllActions(),a.fx.bubbleForeverLabel(n),t&&t(),a.fx.fxBtnTriple(e)):(n.stopAllActions(),1==n.active&&(n.active=!1),n.scale=1,a.fx.fxBtnTriple(e))},fxBtnTriple:function(e){var t=cc.find("Canvas/play_area/btn_triple"),n=e?"#525252":"#ffffff";if(t){t.color=(new cc.Color).fromHEX(n),t.getChildByName("icon").color=(new cc.Color).fromHEX(n);var o=t.getChildByName("bg_total_triple").getChildByName("total");o.color=(new cc.Color).fromHEX(n);var i=t.getChildByName("bg_total_triple").getChildByName("video");i.color=(new cc.Color).fromHEX(n),a.game.triplePoint||(a.uiPowerItem.totalTriple<=0?(o.active=!1,i.active=!0):(o.active=!0,i.active=!1),t.getChildByName("bg_total_triple").active=!0)}},showAnimRelocated:function(e,t,n){0!=e.length&&e.map(function(e,o){var i=a.utils.randomArrItem(a.configs.blockNumber[1]),r=t[o],c=r.getChildByName("sample_block");a.mapVisual.decorBlock(c,i),a.map.currentState[r.cellNumber]=i;for(var l=[],u=0;u<3;u++)l.push(a.utils.randomArrItem(a.configs.blockNumber[1]));l.push(i);var s=e.getChildByName("sample_block");s.children.map(function(e){e.active=!1});var d=s.getChildByName("anim_relocated");0==d.active&&(d.active=!0);var f=s.getChildByName("anim_relocated").getChildByName("Image_Anim"),p=s.getChildByName("anim_relocated").getChildByName("label");a.fx.rollingItem(p,f,l,function(){n&&n()})})},rollingItem:function(e,t,n,o){var r=cc.v2(0,2),c=cc.v2(0,80),l=cc.v2(0,-80);e.position=c,e.opacity=0;var u=n.shift();cc.tween(e).parallel(cc.tween(e).call(function(){a.utils.setLabelText(e,u)}).parallel(cc.tween(e).to(.15,{position:r}).start(),cc.tween(e).to(.15,{opacity:255}).start()).start(),cc.tween(t).call(function(){t.getComponent(cc.Sprite).spriteFrame=t.getComponent(i).assetBlock[parseInt(u)-1]}).start()).delay(.15).call(function(){0!=n.length?cc.tween(e).parallel(cc.tween(e).to(.15,{position:l}).start(),cc.tween(e).to(.15,{opacity:0}).start()).call(function(){a.fx.rollingItem(e,t,n,o)}).start():o&&o()}).start()},nodeMoveAndHidden:function(e,t){e&&cc.tween(e).parallel(cc.tween(e).to(1,{position:cc.v2(0,140)}),cc.tween(e).to(1,{opacity:200})).delay(.5).to(.2,{opacity:0}).call(function(){t&&t(),e.destroy()}).start()}};n.fx=r,cc._RF.pop()},{"../all_modules":"all_modules",blockAsset:"blockAsset"}],game:[function(e,t,n){"use strict";cc._RF.push(t,"e0b66Dd52FGmq7/c088puFx","game"),n.__esModule=!0,n.game=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={cellLinks:e("cell_links"),currentItemBiasType:null,currentItemNode:null,currentKeyBlockNumber:0,currentMinorBlockNumber:0,stepCount:0,videoContinueLeft:0,gameStartTime:0,lastKeyCellNumber:0,init:function(){var e=this;a.login.addLoginDataField("isOldToMap3x3"),a.login.addLoginDataField("lastNewItem"),a.login.addLoginDataField("stepCount"),a.login.addLoginDataField("videoContinueLeft"),a.login.addLoginDataField("lastScore"),a.login.addLoginDataField("bestScore"),a.login.addLoginDataField("currentMapState"),a.login.addLoginDataField("isAskingVideoContinue"),a.login.addCallback(function(t){if(a.data.saveData({isOldToMap3x3:!0}),a.user.score=t.lastScore||0,a.user.bestScore=t.bestScore||0,a.leaderboard.updateScoreLabel(),a.ui.updateScore(a.user.score),a.ui.updateHighScore(),e.stepCount=t.stepCount||0,e.videoContinueLeft=t.videoContinueLeft||a.configs.videoContinueTime,t.isAskingVideoContinue)a.data.saveData({isAskingVideoContinue:!1}),a.game.replay();else{if(t.isTutDone)if(t.lastNewItem&&t.isOldToMap3x3){var n=t.lastNewItem,o=n.blockNumber,i=n.biasType,r=n.blockInfoArr;e.newItem(o,i,r)}else a.utils.waitToRun(function(){e.genNewItem()},"currentState",a.map);else e.newItem(1,"single_block",[1]);for(var c in a.map.currentState=t.isTutDone?t.currentMapState||{}:a.tut.tutMapState,a.map.currentState)a.map.cellLinkMap[c]||(a.map.currentState[c]=null);if(a.mapVisual.renderMap(a.map.currentState),!t.isDoneTutBom){var l=cc.find("Canvas/play_area/map"),u=0;for(var s in a.map.currentState)a.map.currentState[s]&&u++;u>Math.floor(l.children.length/2)&&t.TotalBom>0&&a.tutBom.startTut()}if(!t.isDoneTutRelocated){var d=cc.find("Canvas/play_area/map"),f=0;for(var p in a.map.currentState)a.map.currentState[p]&&f++;f/d.children.length*100>70&&t.TotalRelocated>0&&a.tutRelocated.startTut()}}a.data.countTurnAdsInter=0,0!=a.user.photo.length&&cc.assetManager.loadRemote(a.user.photo,function(e,t){e||(window.user_avata=new cc.SpriteFrame(t))}),e.check2LogTimeToGameOver()}),a.game.triplePoint=!1},genNewItem:function(){var e=a.configs.stepCount2BlockNumerArr(this.stepCount+1).slice(0),t=a.configs.stepCount2BiasTypeArr(this.stepCount+1),n=a.map.checkAvailableNewItemInfo(),o=n.blockCount,i=n.biasTypeArr;i=i.filter(function(e){return t.includes(e)});var r=[];r.push(o),t.includes("single_block")&&r.push(1);for(var c=a.utils.randomArrItem(r),l=a.utils.randomArrItem(i),u=[],s=0;s<c;s++)u.push(a.utils.randomArrItem(e,!0));this.newItem(c,l,u),this.isNewItemRotated=!1,a.data.saveData({lastNewItem:{blockNumber:c,biasType:l,blockInfoArr:u}})},genItemBlock7:function(){this.newItem(1,"single_block",[7]),this.isNewItemRotated=!1,a.data.saveData({lastNewItem:{blockNumber:1,biasType:"single_block",blockInfoArr:[7]}})},newItem:function(e,t,n){void 0===e&&(e=1),void 0===t&&(t="horizontal");var o=1==e?"single_block":t,i=cc.find("Canvas/play_area/new_item_container/new_item/item_types"),r=a.control.setArrowsActive(e>1);r.opacity=r.active?255:0,r.angle={horizontal:5,left_bias:-65,right_bias:65}[t],r.stopAllActions(),r.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(.2,-25),cc.rotateBy(.2,25),cc.delayTime(.5)))),"single_block"!=o&&(a.tutRolated.checkDoneTutRolated()||a.tutRolated.startTut());var c=i.getChildByName(o);i.children.map(function(e){return e.active=!1}),c.active=!0,a.control.newItemNode.active=!0,this.currentItemNode=c;var l,u=c.getChildByName("key_block");if(a.mapVisual.decorBlock(u.getChildByName("sample_block"),n[0]),u.getChildByName("Image_HighlightStroke").active=n[0]==n[1],this.currentKeyBlockNumber=n[0],this.currentMinorBlockNumber=0,e>1&&(l=c.getChildByName("minor_block"),a.mapVisual.decorBlock(l.getChildByName("sample_block"),n[1]),this.currentMinorBlockNumber=n[1]),"single_block"!=(t=e>1?t:"single_block")){var s=this.getBiasTypeKeyBlockPos(t);s||_log("keyBlockPos="+s+" // biasType="+t),u.position=s,l&&(l.position=s.mul(-1))}a.utils.setTimeout(function(){return a.control.setKeyBlock(u)},100),a.control.setControlTouchArea(o),this.currentItemBiasType=t+(e>1&&u.x>l.x?"_dominated":"")},swapNewItemBlocks:function(){var e=this;a.utilsFB.log("ev_click_swap_blocks"),a.control.setArrowsActive(!1),a.ui.showNagScreen(),this.currentItemBiasType=this.getNextSwapBiasType(this.currentItemBiasType);var t=this.getBiasTypeKeyBlockPos(this.currentItemBiasType);this.currentItemNode.runAction(cc.rotateBy(.045,-60));var n=this.currentItemNode.children;n[0].runAction(cc.rotateBy(.045,-60)),n[1].runAction(cc.rotateBy(.045,-60)),a.utils.setTimeout(function(){e.currentItemNode.angle=0,n[0].angle=0,n[1].angle=0,n[0].position=t,n[1].position=t.mul(-1),a.control.setKeyBlock(e.currentItemNode.getChildByName("key_block")),a.ui.hideNagScreen()},55),this.isNewItemRotated=!0},getBiasTypeKeyBlockPos:function(e){var t=45*Math.cos(Math.PI/180*60),n=45*Math.sin(Math.PI/180*60);return{left_bias:cc.v2(-t,n),right_bias_dominated:cc.v2(t,n),horizontal_dominated:cc.v2(45,0),left_bias_dominated:cc.v2(t,-n),right_bias:cc.v2(-t,-n),horizontal:cc.v2(-45,0)}[e]},getNextSwapBiasType:function(e){return{horizontal:"left_bias",left_bias:"right_bias_dominated",right_bias_dominated:"horizontal_dominated",horizontal_dominated:"left_bias_dominated",left_bias_dominated:"right_bias",right_bias:"horizontal"}[e]},dropNewItemAtCell:function(e,t,n){var o=this;if(!a.tutRolated.showing){a.control.setArrowsActive(!1),a.tut.checkDoneTut(),a.game.currentItemNode.active=!1,a.map.dropNewItemAtCell(e,t),this.stepCount++,a.data.saveData({stepCount:this.stepCount});var i=1,r=function(t){void 0===t&&(t=0),0==--i&&(a.ui.hideNagScreen(),a.data.saveData({currentMapState:a.map.currentState}),7==t?a.ui.showCompliment("PERFECT"):2==t?a.ui.showCompliment("GREAT"):t>2&&t<7?a.ui.showCompliment("SWEET"):t>10&&a.ui.showCompliment("NICE"),a.map.isFulled()?(o.lastKeyCellNumber=e,o.handleGameOver()):o.genNewItem())};if(a.ui.showNagScreen(),t&&a.map.currentState[e]!=a.map.currentState[t]&&(i=2,this.handleBlockScoring(t,r,null,null,n)),this.handleBlockScoring(e,r,null,null,n),!a.tutBom.isDoneTutBom){var c=cc.find("Canvas/play_area/map"),l=0;for(var u in a.map.currentState)a.map.currentState[u]&&l++;l>Math.floor(c.children.length/2)&&a.uiPowerItem.totalBom>0&&a.tutBom.startTut()}if(!a.tutRelocated.isDoneTutRelocated){var s=cc.find("Canvas/play_area/map"),d=0;for(var f in a.map.currentState)a.map.currentState[f]&&d++;d/s.children.length*100>70&&a.uiPowerItem.totalRelocated>0&&a.tutRelocated.startTut()}}},handleGameOver:function(){return a.video.isAvailable?a.game.videoContinueLeft<=0?this.realGameOver():(a.ui.showLayer("layer_video_continue"),a.data.saveData({isAskingVideoContinue:!0}),void a.utils.setLabelText(cc.find("Canvas/layer_video_continue/btn_save_me/label_time_left"),""+a.game.videoContinueLeft)):this.realGameOver()},onVideoContinueSuccess:function(){a.game.removeLastKeyBlockGroup(),a.data.saveData({currentMapState:a.map.currentState}),a.data.saveData({isAskingVideoContinue:!1})},removeLastKeyBlockGroup:function(){var e=[a.game.lastKeyCellNumber].concat(Object.keys(a.map.cellLinkMap[a.game.lastKeyCellNumber]));_log(" gameover >> video continue >> removeLastKeyBlockGroup = "+e),a.map.clearCellGroup(e),a.game.genNewItem(),a.game.videoContinueLeft--,a.data.saveData({videoContinueLeft:a.game.videoContinueLeft})},onVideoContinueFail:function(e){a.game.realGameOver(!0),_log(" onVideoContinueFail >> err = ",e),a.ui.showAlert("Oops!\n\nSomething went wrong",function(){a.game.visualGameOver()}),a.data.saveData({isAskingVideoContinue:!1})},realGameOver:function(e){void 0===e&&(e=!1),a.control.newItemNode.active=!1,a.user.bestScore<a.user.score&&(a.user.bestScore=a.user.score,a.data.saveData({bestScore:a.user.bestScore})),a.data.saveData({currentMapState:{},stepCount:0,lastScore:0,videoContinueLeft:a.configs.videoContinueTime}),this.check2LogTimeToGameOver(),a.utils.setTimeout(function(){a.social.askShortcut(function(){return a.social.postSessionScore()})},500),a.social.playerIdSendMessage&&a.social.sendMessageAfterQuit(),e||this.visualGameOver(),_log("game over !")},visualGameOver:function(){a.leaderboard.updateScoreLabel(),a.game.triplePoint=!1,a.fx.effectTriple(!1),a.friend.validatePanelCanShow()?(a.uiChallenge.setDataChallenge(function(){}),a.ui.showLayer("layer_challenge"),a.uiChallenge.runActionShowItem()):a.ui.showLayer("layer_result"),a.audio.playSound("game_over")},handleBlockScoring:function(e,t,n,o,i){var r=this;n||(n=0),n++;var c=parseInt(a.map.currentState[e]),l=a.map.checkBlockScore(e),u=function(e){var r=e||n-1;1==r&&(r=o>3?10*o:0),a.utils.setTimeout(function(){i&&i(),t&&t(r)},10)};if(!l)return u();var s=cc.find("Canvas/play_area/map/Image_HexBlock_"+e),d=a.configs.calculateScore(c,l.length);c<7?(a.fx.fxScoreNormal(s,l,function(){a.fx.showScoreToolTip("+"+d,s),a.map.setSingleCell(e,c+1),s.runAction(cc.sequence(cc.scaleTo(.15,1.24),cc.scaleTo(.15,1),cc.callFunc(function(){return r.handleBlockScoring(e,t,n,l.length,i)})))}),a.utils.setTimeout(function(){a.fx.multiScoreLabelFlyNormal(s,l,d)},600),a.utils.setTimeout(function(){return r.score(d)},1e3)):(a.fx.multiScoreLabelFly7(l,d),a.fx.fxScore7(s,l,function(){return u(7)}),a.utils.setTimeout(function(){return r.score(d)},350)),a.map.clearCellGroup(l)},score:function(e){a.user.score+=a.game.triplePoint?3*e:e,a.user.bestScore<a.user.score&&(a.user.bestScore=a.user.score,a.data.saveData({bestScore:a.user.bestScore}),a.ui.updateHighScore()),a.data.saveData({lastScore:a.user.score}),a.ui.updateScore(a.user.score),a.tutTriple.checkDoneTutTriple()||a.user.score>=a.tutTriple.pointToShowTut&&a.uiPowerItem.totalTriple>0&&(a.game.triplePoint||a.tutTriple.startTut())},replay:function(e){this.stepCount=0,a.map.resetMap(),a.user.score=0,a.ui.updateScore(0),a.game.videoContinueLeft=a.configs.videoContinueTime,a.data.saveData({currentMapState:{},stepCount:0,lastScore:0}),a.game.genNewItem(),e&&e()},check2LogTimeToGameOver:function(){if(!this.gameStartTime)return this.gameStartTime=_time();var e=_time()-this.gameStartTime;_log(" timeRange gameover = "+e+" "),a.utilsFB.log("ev_game_over_time",parseInt(e/1e3)),this.gameStartTime=_time()},actionPowerItemBom:function(e){if(a.map.currentState){var t=a.map.currentState,n=cc.find("Canvas/play_area/map"),o=cc.find("Canvas/layer_anim/content/anim_boom/map"),i=0,r=[],c=function(e){var a=t[e];if(a&&0!=a){var c=n.children.find(function(t){return t.name=="Image_HexBlock_"+e}),l=cc.instantiate(c);l.position=c.position,o.addChild(l),r.push(l),i++}};for(var l in t)c(l);if(0==i)return void a.ui.hideLayer("layer_anim");a.utils.setTimeout(function(){a.game.showAnim(r,e),a.map.resetMap(),e&&e(),a.data.saveData({currentMapState:{},stepCount:0,lastScore:0})},200)}},showAnim:function(e){for(var t=1,n=function(n){var o=e[n];t+=20*n,n==e.length-1?a.utils.setTimeout(function(){a.fx.effectBoom(o,function(){a.tutBom.checkDoneTutBom()||a.tutBom.endTut(),cc.find("Canvas/layer_anim/content/anim_boom/map").removeAllChildren(),a.ui.hideLayer("layer_anim"),a.uiPowerItem.validateBoomSuccess()})},t):a.utils.setTimeout(function(){a.fx.effectBoom(o)},t)},o=0;o<e.length;o++)n(o)},actionPowerItemTriple:function(){a.game.triplePoint=!0,!a.tutTriple.checkDoneTutTriple()&&a.tutTriple.showing&&a.tutTriple.endTut(),a.ui.hideLayer("layer_anim"),a.fx.effectTriple(!0,function(){a.uiPowerItem.validateTripleSuccess()})},actionPowerItemRelocated:function(e){if(a.map.currentState){var t=a.map.currentState,n=cc.find("Canvas/play_area/map"),o=cc.find("Canvas/layer_anim/content/anim_relocated/map"),i=0,r=[],c=[],l=function(e){var a=t[e];if(a&&0!=a){var l=n.children.find(function(t){return t.name=="Image_HexBlock_"+e}),u=cc.instantiate(l);u.position=l.position,o.addChild(u),r.push(u),c.push(l),i++}};for(var u in t)l(u);if(0==i)return void a.ui.hideLayer("layer_anim");var s=0;a.map.resetMap(),e&&e(),a.fx.showAnimRelocated(r,c,function(){++s==i&&(a.tutRelocated.checkDoneTutRelocated()||a.tutRelocated.endTut(),a.utils.setTimeout(function(){cc.find("Canvas/layer_anim/content/anim_relocated/map").removeAllChildren(),a.ui.hideLayer("layer_anim"),a.uiPowerItem.validateRelocatedSuccess(),a.data.saveData({currentMapState:a.map.currentState}),a.game.searchMapItem()},500))})}},searchMapItem:function(){if(a.map.currentState){var e={},t=a.map.currentState;for(var n in t){var o=t[n];o&&(e[o]?e[o].push(n):(e[o]=[],e[o].push(n)))}a.game.seachToAutoMerge(e)}},seachToAutoMerge:function(e){var t=[],n=[];for(var o in e){var i=e[o];if(i.length>=3){for(var r=0;r<i.length;r++){var c=i[r],l=a.game.loopSearch(c,i);l.sort(function(e,t){return e<t?-1:1}),l.length>=3&&t.push(l)}if(0!=t.length){var u=a.game.compareArr(o,t);u.length>=3&&n.push(u)}}}if(0!=n.length){var s=a.utils.randomArrItem(n);a.game.loopAnim(s)}},loopAnim:function(e){var t=e,n=a.utils.randomArrItem(t);a.utils.setTimeout(function(){a.game.handleBlockScoring(n,null,null,null,function(){a.data.saveData({currentMapState:a.map.currentState}),a.game.searchMapItem()})},500)},loopSearch:function(e,t){var n=[];if(n.push(e),this.cellLinks)for(var a in this.cellLinks)if(-1!=a.indexOf(e)){var o=null;-1!=a.indexOf("_"+e)?o=a.replace("_"+e,""):-1!=a.indexOf(e+"_")&&(o=a.replace(e+"_","")),-1!=t.indexOf(o)&&n.push(o)}return n},compareArr:function(e,t){if(0==t.length)return null;var n=null;return t.map(function(t){n?t.map(function(t){if(-1==n.indexOf(t)){var o=a.map.currentState[t];o&&0!=o&&o==e&&n.push(t)}}):n=t}),n}};n.game=i,cc._RF.pop()},{"../all_modules":"all_modules",cell_links:"cell_links"}],inter_ad:[function(e,t,n){"use strict";cc._RF.push(t,"d257eZM4gNA14exikMiBIjn","inter_ad"),n.__esModule=!0,n.interAd=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={init:function(){this.preloadInterAds()},interAdObj:null,preloadInterAds:function(){var e=this;a.configs.canShowAndLoadInter&&(s,window.FBInstant&&(_log(" preloadInterAds 1111 "),this.isLoading||(this.interAdObj=null,this.isLoading=!0,FBInstant.getInterstitialAdAsync(a.configs.interAdId).then(function(t){t.loadAsync().then(function(){e.interAdObj=t,e.isLoading=!1}).catch(function(t){console.warn(t),e.isLoading=!1})}).catch(function(t){console.warn(t),e.isLoading=!1}))))},showInterAds:function(e,t){var n=this;if(a.configs.canShowAndLoadInter){if(s,console.log(" showInterAds 1111 "),a.configs.openInterAds)return window.FBInstant&&this.interAdObj?void this.interAdObj.showAsync().then(function(){a.interAd.log(e,1),t&&t(),n.preloadInterAds()}).catch(function(o){console.warn(o),a.interAd.log(e,0,o.code),t&&t(),"RATE_LIMITED"!=o.code&&n.preloadInterAds()}):t&&t();t&&t()}},log:function(e,t,n){void 0===n&&(n=""),a.utilsFB.log("ev_inter_ad",1,{position:e,watched_success:t,err_code:n}),t&&(a.utilsFB.log("Ads-Total-Inter"),a.utilsFB.log("Ads-Total"))},replayCount2ShowAd:0,checkToShowReplayAd:function(){this.replayCount2ShowAd++,this.replayCount2ShowAd%a.configs.showInterAdAfterEveryReplayTime==1&&this.showInterAds("gameOverReplay")}};n.interAd=i,cc._RF.pop()},{"../all_modules":"all_modules"}],label_listener:[function(e,t){"use strict";cc._RF.push(t,"057d5If8wVJGqRBl8O7ssAu","label_listener"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],leaderboard:[function(e,t,n){"use strict";cc._RF.push(t,"17316g2GD9BH45Ccp8C0UsU","leaderboard"),n.__esModule=!0,n.leaderboard=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={leaderboard:null,globalPlayerArr:[],isEntriesLoadedGlobal:!1,friendsPlayerArr:[],isEntriesLoadedFriends:!1,init:function(){var e=this;window.FBInstant?FBInstant.getLeaderboardAsync(a.configs.leaderboardName).then(function(t){e.leaderboard=t,e.leaderboard.getPlayerEntryAsync().then(function(t){t?e.getEntries():e.leaderboard.setScoreAsync(a.user.exp,"").then(function(){return e.getEntries()})})}).catch(function(e){return _log(" error getting leaderboard ",e)}):(e.globalPlayerArr=[{id:"xxxxaa111x",name:"Global 123",score:222},{id:"xxxxaa111x",name:"Global 456",score:676},{id:"xxxxaa111",name:"Global",score:1235},{id:"xxxxaa111x",name:"Global 789",score:4354},{id:"xxxxaa111x",name:"Global 100",score:3455},{id:"xxxxaa111x",name:"Global 456",score:676},{id:"xxxxaa111",name:"Global",score:1235},{id:"xxxxaa111x",name:"Global 789",score:4354},{id:"xxxxaa111x",name:"Global 100",score:3455},{id:"xxxxaa111x",name:"Global 456",score:676},{id:"xxxxaa111",name:"Global",score:1235},{id:"xxxxaa111x",name:"Global 789",score:4354},{id:"xxxxaa111x",name:"Global 100",score:3455}],a.leaderboard.isEntriesLoadedGlobal=!0,e.friendsPlayerArr=[{id:"xxxxaa111x",name:"Friend 123",score:222},{id:"xxxxaa111x",name:"Friend 456",score:676},{id:"xxxxaa111",name:"Friend",score:1235},{id:"xxxxaa111x",name:"Friend 789",score:4354},{id:"xxxxaa111x",name:"Friend 100",score:3455},{id:"xxxxaa111x",name:"Friend 456",score:676},{id:"xxxxaa111",name:"Friend",score:1235},{id:"xxxxaa111x",name:"Friend 789",score:4354},{id:"xxxxaa111x",name:"Friend 100",score:3455},{id:"xxxxaa111x",name:"Friend 456",score:676},{id:"xxxxaa111",name:"Friend",score:1235},{id:"xxxxaa111x",name:"Friend 789",score:4354},{id:"xxxxaa111x",name:"Friend 100",score:3455}],a.leaderboard.isEntriesLoadedFriends=!0),a.utils.waitToRun(function(){return e.render("friends")},"isEntriesLoadedFriends",a.leaderboard),a.utils.waitToRun(function(){return e.render("global")},"isEntriesLoadedGlobal",a.leaderboard)},getEntries:function(){var e=this;this.leaderboard.getEntriesAsync(a.configs.leaderboardPlayerCount,0).then(function(t){e.globalPlayerArr=e.entriesToArr(t),a.leaderboard.isEntriesLoadedGlobal=!0}).catch(function(e){return _log("Error getting leaderboard global entries ",e)}),this.leaderboard.getConnectedPlayerEntriesAsync(a.configs.leaderboardPlayerCount,0).then(function(t){e.friendsPlayerArr=e.entriesToArr(t),a.leaderboard.isEntriesLoadedFriends=!0}).catch(function(e){return _log("Error getting leaderboard global entries ",e)})},entriesToArr:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];t.push({id:a.getPlayer().getID(),photo:a.getPlayer().getPhoto(),name:a.getPlayer().getName(),score:a.getScore(),rank:a.getRank()})}return t},saveScore:function(){a.ui.showNagScreen(),this.leaderboard.setScoreAsync(a.user.score,"").then(function(){_log("saveScore :: >>> saved score to leaderboard-- - _GAME.user.exp = "+a.user.score+" "),a.user.bestScore<=a.user.score&&(_log("_GAME.user.bestScore < _GAME.user.scoree     "),a.leaderboard.isEntriesLoadedFriends=!1,a.leaderboard.isEntriesLoadedGlobal=!1,a.leaderboard.init()),a.social.playerIdSendMessage&&a.social.sendMessageAfterQuit(),a.promo.renderButtonByIcon(),a.ui.hideNagScreen()}).catch(function(e){return _log("saveScore err ",e)})},render:function(e){void 0===e&&(e="friends");var t=a.leaderboard[e+"PlayerArr"],n=cc.find("Canvas/layer_leaderboard/content_bg/middle_container/leaderboard/leaderboard_content/sample_row"),o=cc.find("Canvas/layer_leaderboard/content_bg/middle_container/leaderboard/leaderboard_content/scrollview_"+e+"/view/content");o.removeAllChildren(),t.map(function(t,i){var r=a.utils.copyNodeTo(n,o);r.active=!0,r.getChildByName("bg2").active=i%2,t.photo&&cc.loader.load(t.photo,function(e,t){if(e)return _log(e);var n=a.utils.getChildByPath(r,"avatar/real_avatar"),o={width:n.width,height:n.height};n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),n.setSizeFunc=function(){n.width=o.width,n.height=o.height},setTimeout(n.setSizeFunc,100)}),a.utils.setLabelText(r.getChildByName("label_rank"),i+1+"."),a.utils.setLabelText(r.getChildByName("label_user_name"),t.name),a.utils.setLabelText(r.getChildByName("label_score"),a.utils.localizeNumber(t.score)),r.getChildByName("btn_brag").active=t.id==a.user.id,r.getChildByName("btn_play").active="friends"==e,a.utils.addButtonComp(r.getChildByName("btn_brag"),function(){a.utilsFB.log("ev_click_button_share_in_leader_board",1,{Position:i}),a.social.share(t.score)}),a.utils.addButtonComp(r.getChildByName("btn_play"),function(){a.utilsFB.log("ev_click_button_play_in_leader_board",1,{Position:i}),a.social.createContext(t.id,function(){a.social.playerIdSendMessage=t.id,_log("Successs    "),a.ui.hideLayer("layer_leaderboard"),a.game.replay(function(){return a.interAd.checkRequireMentShowAdd(function(){return a.interAd.show("gameOverReplay")})})},function(){_log("fail  ")})})})},btnBragClick:function(){},currentTabName:"friends",onClickTab:function(e){e!=this.currentTabName&&(this.currentTabName=e,["global","friends"].map(function(t){return n=t,a=t==e,cc.find("Canvas/layer_leaderboard/content_bg/middle_container/leaderboard/tabs/"+n+"/active").active=a,void(cc.find("Canvas/layer_leaderboard/content_bg/middle_container/leaderboard/leaderboard_content/scrollview_"+n).active=a);var n,a}),cc.find("Canvas/layer_leaderboard/content_bg/middle_container/leaderboard/leaderboard_content/scrollview_"+e+"/view/content").children.map(function(e){var t=a.utils.getChildByPath(e,"avatar/real_avatar").setSizeFunc;t&&t()}))},updateScoreLabel:function(){a.utils.setLabelText(cc.find("Canvas/layer_leaderboard/header/label_score"),a.utils.localizeNumber(a.user.score))}};n.leaderboard=i,cc._RF.pop()},{"../all_modules":"all_modules"}],load_optimize:[function(e,t){"use strict";cc._RF.push(t,"24941TRvpBAF6g432rW623D","load_optimize");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=cc.find("Canvas/bg");n.utils.setTimeout(function(){e.active=!0;var t=cc.find("Canvas/bg_load2");t.active=!0,console.log("load bg2"),n.utils.setTimeout(function(){t.active=!1},5e3)},1e3),n.utils.setTimeout(function(){var e=cc.find("Canvas/load2"),t=cc.find("Canvas/shares"),a=cc.find("Canvas/messages");e.active=!0,t.active=!0,a.active=!0,n.utils.setTimeout(function(){e.active=!1,t.active=!1,a.active=!1},2e3)},5e3)}}),cc._RF.pop()},{"../all_modules":"all_modules"}],localize_auto_tranform:[function(e,t){"use strict";cc._RF.push(t,"a25e5iUV1lP346eB0NeyuWj","localize_auto_tranform");var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.nodeProxy=n.localize.getProxyNode(),this.nodeProxy.on("TRANFORM_TEXT",this.changeText,this)},onDestroy:function(){this.nodeProxy.off("TRANFORM_TEXT",this.changeText,this)},onEnable:function(){this.nodeProxy.on("TRANFORM_TEXT",this.changeText,this),this.changeText()},changeText:function(){if(0!=n.localize.pointerLang&&n.localize.currentLanguage&&this.node.getComponent(cc.Label)){2!=this.node.getComponent(cc.Label).overflow&&(this.node.getComponent(cc.Label).overflow=2);var e=this.node.getComponent(cc.Label)._cache;e||(this.node.getComponent(cc.Label)._cache=this.node.getComponent(cc.Label).string,e=this.node.getComponent(cc.Label)._cache);var t=e.replaceAll(" ","").toUpperCase();n.utils.setLabelText(this.node,n.localize.convertPosition(t))}}}),cc._RF.pop()},{"../all_modules":"all_modules"}],localize_config:[function(e,t,n){"use strict";function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}cc._RF.push(t,"885cfZpKoVM34dvWQw/UljQ","localize_config"),n.__esModule=!0,n.localizeConfig=void 0,function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n)}(e("../all_modules"));var o={init:function(){console.log("LOAD module localizeConfig")},totalLocalLang:["en_US","vi_VN","th_TH","fr_FR","pt_PT","es_ES","ar_AR","tr_TR","de_DE","zh_CN"],meaningLocalLang:["English","Ti\u1ebfng Vi\u1ec7t","\u0e44\u0e17\u0e22","fran\xe7ais","Portugu\xeas","Espa\xf1ol","\u0639\u0631\u0628\u0649","T\xfcrk","Deutsche","\u4e2d\u6587"],localize:{PAUSE:{ar_AR:"\u0648\u0642\u0641\u0629",pl_PL:"Pauza",en_US:"Pause",tr_TR:"Duraklat",vi_VN:"T\u1ea1m d\u1eebng",es_ES:"Pausa",zh_CN:"\u66ab\u505c",th_TH:"\u0e2b\u0e22\u0e38\u0e14",fr_FR:"Pause",pt_PT:"Pausa",de_DE:"Pause"},CANCEL:{ar_AR:"\u0627\u0633\u062a\u0642\u0627\u0644",pl_PL:"Porzuci\u0107",en_US:"Cancel",tr_TR:"\xc7\u0131k",vi_VN:"B\u1ecf",es_ES:"Dejar",zh_CN:"\u653e\u68c4",th_TH:"\u0e40\u0e25\u0e34\u0e01",fr_FR:"Quitter",pt_PT:"Sair",de_DE:"Verlassen"},GAMEOVER:{ar_AR:"\u0627\u0646\u062a\u0647\u062a \u0627\u0644\u0644\u0639\u0628\u0629",pl_PL:"Koniec gry",en_US:"Game over",tr_TR:"Oyun bitti",vi_VN:"Thua cu\u1ed9c",es_ES:"Juego terminado",zh_CN:"\u904a\u6232\u7d50\u675f",th_TH:"\u0e08\u0e1a\u0e40\u0e01\u0e21",fr_FR:"Jeu termin\xe9",pt_PT:"Fim de jogo",de_DE:"Spiel ist aus"},YOURSCORE:{ar_AR:"\u062f\u0631\u062c\u0627\u062a\u0643",pl_PL:"Tw\xf3j wynik",en_US:"Your score",tr_TR:"Puan\u0131n",vi_VN:"\u0110i\u1ec3m",es_ES:"Tu puntuaci\xf3n",zh_CN:"\u4f60\u7684\u5206\u6578",th_TH:"\u0e04\u0e30\u0e41\u0e19\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",fr_FR:"ton score",pt_PT:"Sua pontua\xe7\xe3o",de_DE:"Ihre Punktzahl"},BRAG:{ar_AR:"\u062a\u0641\u0627\u062e\u0631",pl_PL:"Przechwala\u0107",en_US:"Brag",tr_TR:"\xd6v\xfcnmek",vi_VN:"Chia s\u1ebb",es_ES:"Jactarse",zh_CN:"\u5439\u725b",th_TH:"\u0e42\u0e21\u0e49",fr_FR:"Se vanter",pt_PT:"Gabar-se",de_DE:"Prahlen"},PLAYANOTHERFRIENDS:{ar_AR:"\u0627\u0644\u0639\u0628 \u0645\u0639 \u0627\u0644\u0627\u0635\u062f\u0642\u0627\u0621",pl_PL:"Gra\u0107 z przyjaci\xf3\u0142mi",en_US:"Play with friends",tr_TR:"Arkada\u015flarla oynamak",vi_VN:"Ch\u01a1i c\xf9ng b\u1ea1n",es_ES:"Jugar con amigas",zh_CN:"\u8207\u670b\u53cb\u4e00\u8d77\u73a9",th_TH:"\u0e40\u0e25\u0e48\u0e19\u0e01\u0e31\u0e1a\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19",fr_FR:"jouer avec des amis",pt_PT:"Jogar com amigos",de_DE:"Mit Freunden spielen"},OUTOFMOVE:{ar_AR:"\u062e\u0627\u0631\u062c \u0627\u0644\u062d\u0631\u0643\u0629",pl_PL:"Brak ruchu",en_US:"Out of move",tr_TR:"Hareket d\u0131\u015f\u0131",vi_VN:"H\u1ebft n\u01b0\u1edbc \u0111i",es_ES:"Fuera de movimiento",zh_CN:"\u642c\u8d70",th_TH:"\u0e44\u0e21\u0e48\u0e40\u0e04\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e44\u0e2b\u0e27",fr_FR:"Hors de mouvement",pt_PT:"Fora de movimento",de_DE:"Au\xdfer Bewegung"},CONTINUE:{ar_AR:"\u0627\u0633\u062a\u0645\u0631",pl_PL:"Kontyntynuj",en_US:"Continue",tr_TR:"Devam et",vi_VN:"Ti\u1ebfp t\u1ee5c",es_ES:"Seguir",zh_CN:"\u7e7c\u7e8c",th_TH:"\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e15\u0e48\u0e2d",fr_FR:"Continuer",pt_PT:"Continuar",de_DE:"Fortsetzen"},RESTART:{ar_AR:"\u0625\u0639\u0627\u062f\u0629 \u0628\u062f\u0621",pl_PL:"Uruchom ponownie",en_US:"Restart",tr_TR:"Tekrar ba\u015flat",vi_VN:"Ch\u01a1i l\u1ea1i",es_ES:"Reiniciar",zh_CN:"\u91cd\u65b0\u958b\u59cb",th_TH:"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19\u0e43\u0e2b\u0e21\u0e48",fr_FR:"Red\xe9marrer",pt_PT:"Reiniciar",de_DE:"Neustart"},PERFECT:{ar_AR:"\u0641\u064a \u0627\u062d\u0633\u0646 \u0627\u0644\u0627\u062d\u0648\u0627\u0644",pl_PL:"Idealny",en_US:"Perfect",tr_TR:"M\xfckemmel",vi_VN:"Tuy\u1ec7t v\u1eddi",es_ES:"Perfecta",zh_CN:"\u5b8c\u7f8e",th_TH:"\u0e2a\u0e21\u0e1a\u0e39\u0e23\u0e13\u0e4c\u0e41\u0e1a\u0e1a",fr_FR:"Parfait",pt_PT:"impec\xe1vel",de_DE:"Perfekt"},GREAT:{ar_AR:"\u0639\u0638\u064a\u0645",pl_PL:"\u015awietny",en_US:"Great",tr_TR:"Harika",vi_VN:"Tuy\u1ec7t",es_ES:"Excelente",zh_CN:"\u975e\u5e38\u597d",th_TH:"\u0e40\u0e22\u0e35\u0e48\u0e22\u0e21\u0e21\u0e32\u0e01",fr_FR:"g\xe9nial",pt_PT:"\xd3timo",de_DE:"Toll"},PLAY:{ar_AR:"\u0644\u0639\u0628",pl_PL:"Gra\u0107",en_US:"Play",tr_TR:"Oyna",vi_VN:"Ch\u01a1i",es_ES:"Tocar",zh_CN:"\u73a9",th_TH:"\u0e40\u0e25\u0e48\u0e19",fr_FR:"Jouer",pt_PT:"Jogar ",de_DE:"abspielen"},"WANTMORECHANCE?":{ar_AR:"\u062a\u0631\u064a\u062f \u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0641\u0631\u0635",pl_PL:"Chcesz wi\u0119cej szans",en_US:"Want more chance",tr_TR:"Daha fazla \u015fans istiyor",vi_VN:"Ch\u01a1i th\xeam ",es_ES:"Quiero m\xe1s oportunidad",zh_CN:"\u60f3\u8981\u66f4\u591a\u6a5f\u6703",th_TH:"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e42\u0e2d\u0e01\u0e32\u0e2a\u0e21\u0e32\u0e01\u0e02\u0e36\u0e49\u0e19",fr_FR:"Je veux plus de chance",pt_PT:"Quer mais chance",de_DE:"Willst du mehr Chance"},VIDEOISNOTAVAILABLE:{ar_AR:"\u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631",pl_PL:"Film jest niedost\u0119pny",en_US:"Video is not available",tr_TR:"Video mevcut de\u011fil",vi_VN:"Video kh\xf4ng kh\u1ea3 d\u1ee5ng",es_ES:"El video no est\xe1 disponible",zh_CN:"\u8996\u983b\u4e0d\u53ef\u7528",th_TH:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d",fr_FR:"La vid\xe9o n'est pas disponible",pt_PT:"O v\xeddeo n\xe3o est\xe1 dispon\xedvel",de_DE:"Video ist nicht verf\xfcgbar"},NOTICE:{ar_AR:"\u062a\u0646\u0648\u064a\u0647",pl_PL:"Og\u0142oszenie",en_US:"Notice",tr_TR:"fark\u0131na varmak",vi_VN:"Ch\xfa \xfd",es_ES:"darse cuenta",zh_CN:"\u6ce8\u610f",th_TH:"\u0e41\u0e08\u0e49\u0e07\u0e43\u0e2b\u0e49\u0e17\u0e23\u0e32\u0e1a\u0e25\u0e48\u0e27\u0e07\u0e2b\u0e19\u0e49\u0e32",fr_FR:"Remarquer",pt_PT:"Aviso pr\xe9vio",de_DE:"Beachten"},REPLAY:{ar_AR:"\u0625\u0639\u0627\u062f\u0629",pl_PL:"Powt\xf3rna rozgrywka",en_US:"Replay",tr_TR:"Tekrar oynat",vi_VN:"Ch\u01a1i l\u1ea1i",es_ES:"Repetici\xf3n",zh_CN:"\u91cd\u73a9",th_TH:"\u0e40\u0e25\u0e48\u0e19\u0e0b\u0e49\u0e33",fr_FR:"Rejouer",pt_PT:"Replay",de_DE:"Wiederholung"},NICE:{ar_AR:"\u0644\u0637\u064a\u0641",pl_PL:"\u0141adny",en_US:"Nice",tr_TR:"G\xfczel",vi_VN:"T\u1ed1t",es_ES:"Niza",zh_CN:"\u597d",th_TH:"\u0e14\u0e35",fr_FR:"agr\xe9able",pt_PT:"bom",de_DE:"nett"},WATCH:{ar_AR:"\u0631\u0627\u0642\u0628",pl_PL:"Zegarek",en_US:"Watch",tr_TR:"\u0130zlemek",vi_VN:"Xem",es_ES:"Reloj",zh_CN:"\u770b",th_TH:"\u0e14\u0e39",fr_FR:"Regarder",pt_PT:"Ver",de_DE:"Uhr"},BEST:{ar_AR:"\u0627\u0644\u0623\u0641\u0636\u0644",pl_PL:"Najlepsza",en_US:"Best",tr_TR:"En iyi",vi_VN:"\u0110i\u1ec3m cao",es_ES:"superior",zh_CN:"\u6700\u597d",th_TH:"\u0e14\u0e35\u0e17\u0e35\u0e48\u0e2a\u0e38\u0e14",fr_FR:"le plus",pt_PT:"Melhor",de_DE:"Beste"},OK:{ar_AR:"OK",pl_PL:"ok",en_US:"OK",tr_TR:"OK",vi_VN:"OK",es_ES:"OK",zh_CN:"\u597d",th_TH:"OK",fr_FR:"OK",pt_PT:"OK",de_DE:"OK"},TRYTHISTOCLEARBLOCK:{ar_AR:"\u062c\u0631\u0628 \u0647\u0630\u0627 \u0644\u0643\u062a\u0644\u0629 \u0648\u0627\u0636\u062d\u0629",pl_PL:"Spr\xf3buj to do jasnej bloku",en_US:"Try this to clear block",tr_TR:"berrak blo\u011fa bu deneyin",vi_VN:"H\xe3y th\u1eed \u0111i\u1ec1u n\xe0y v\u1edbi kh\u1ed1i r\xf5 r\xe0ng",es_ES:"Prueba esto al bloque clara",zh_CN:"\u5c1d\u8bd5\u4f7f\u7528\u6b64\u65b9\u6cd5\u660e\u786e\u5757",th_TH:"\u0e25\u0e2d\u0e07\u0e19\u0e35\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e49\u0e2d\u0e07\u0e01\u0e31\u0e19\u0e17\u0e35\u0e48\u0e0a\u0e31\u0e14\u0e40\u0e08\u0e19",fr_FR:"Essayez ceci au bloc clair",pt_PT:"Tente isto para bloco clara",de_DE:["Versuchen Sie"," dies zu klaren Block"]},GOOD:{ar_AR:"\u062d\u0633\u0646",pl_PL:"DOBRY",en_US:"GOOD",tr_TR:"\u0130Y\u0130",vi_VN:"T\u1ed0T",es_ES:"BUENO",zh_CN:"\u597d",th_TH:"\u0e14\u0e35",fr_FR:"BIEN",pt_PT:"BOA",de_DE:"GUT"},"TOOHARD?TRYTHIS!":{ar_AR:"\u0635\u0639\u0628 \u062c\u062f\u0627 \u061f \u062c\u0631\u0628 \u0647\u0630\u0627 !",pl_PL:"Zbyt trudne ? Spr\xf3buj tego !",en_US:"Too hard ? Try this !",tr_TR:"\xc7ok zor ? Bunu dene !",vi_VN:"Qu\xe1 kh\xf3 ? Th\u1eed \u0111i !",es_ES:"Demasiado duro ? Prueba esto !",zh_CN:"\u592a\u96be \uff1f\u8bd5\u8bd5\u8fd9\u4e2a \uff01",th_TH:"\u0e22\u0e32\u0e01\u0e40\u0e01\u0e34\u0e19\u0e44\u0e1b ? \u0e25\u0e2d\u0e07\u0e19\u0e35\u0e49!",fr_FR:"Trop dur ? Essaye \xe7a !",pt_PT:"Demasiado dif\xedcil ? Tente isto!",de_DE:"Zu schwer ? Versuche dies !"},TRYX3YOURSCORE:{ar_AR:"\u0645\u062d\u0627\u0648\u0644\u0629 X3 \u062f\u0631\u062c\u0627\u062a\u0643",pl_PL:"Spr\xf3buj X3 sw\xf3j wynik",en_US:"Try X3 your score",tr_TR:"X3 puan\u0131n\u0131z\u0131 deneyin",vi_VN:"H\xe3y th\u1eed \u0111i\u1ec3m s\u1ed1 c\u1ee7a b\u1ea1n X3",es_ES:"Trate X3 su puntuaci\xf3n",zh_CN:"\u5c1d\u8bd5X3\u4f60\u7684\u5206\u6570",th_TH:"\u0e25\u0e2d\u0e07 X3 \u0e04\u0e30\u0e41\u0e19\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",fr_FR:"Essayez votre score X3",pt_PT:"Tente X3 sua pontua\xe7\xe3o",de_DE:"Versuchen X3 Ihre G\xe4ste"},TABHERETOSWITCHBLOCK:{ar_AR:"\u0627\u0644\u062a\u0628\u0648\u064a\u0628 \u0647\u0646\u0627 \u0644\u0644\u062a\u0628\u062f\u064a\u0644 \u0643\u062a\u0644\u0629",pl_PL:"Tab tutaj aby prze\u0142\u0105czy\u0107 blok",en_US:"Tab here to switch block",tr_TR:"Sekme burada blok ge\xe7mek i\xe7in",vi_VN:"Tab \u0111\xe2y \u0111\u1ec3 chuy\u1ec3n kh\u1ed1i",es_ES:"Pesta\xf1a aqu\xed para cambiar el bloque",zh_CN:"\u6807\u7b7e\u6b64\u5904\u5207\u6362\u5757",th_TH:"\u0e41\u0e17\u0e47\u0e1a\u0e17\u0e35\u0e48\u0e19\u0e35\u0e48\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e25\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01",fr_FR:"Tab ici pour basculer bloc",pt_PT:"Tab aqui para alternar bloco",de_DE:"Tab hier zu Block wechseln"},X3SCORE:{ar_AR:"\u0627\u0644\u0646\u062a\u064a\u062c\u0629 X3",pl_PL:"wynik x3",en_US:"x3 score",tr_TR:"x3 puan\u0131",vi_VN:"\u0111i\u1ec3m x3",es_ES:"puntuaci\xf3n x3",zh_CN:"X3\u5f97\u5206",th_TH:"\u0e04\u0e30\u0e41\u0e19\u0e19 x3",fr_FR:"Le score x3",pt_PT:"pontua\xe7\xe3o x3",de_DE:"x3 Punktzahl"},"OOPS!\n\nSOMETHINGWENTWRONG":{ar_AR:"\u0648\u062c\u0647 \u0627\u0644\u0641\u062a\u0627\u0629! \n\n \u0647\u0646\u0627\u0643 \u062e\u0637\u0623 \u0645\u0627",pl_PL:"Ups! \n\n Co\u015b posz\u0142o nie tak",en_US:"Oops!\n\n Something went wrong",tr_TR:"Hata! \n\n Bir \u015feyler ters gitti",vi_VN:"Oops! \n\n M\u1ed9t c\xe1i g\xec \u0111\xf3 \u0111\xe3 \u0111i l\u1ed7i",es_ES:"\xa1Huy! \n\n Algo sali\xf3 mal",zh_CN:"\u7cdf\u7cd5\uff01\n\n\u51fa\u4e86\u9519",th_TH:"\u0e2d\u0e4a\u0e30! \n\n \u0e1a\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",fr_FR:"Oops! \n\n Quelque chose a mal tourn\xe9",pt_PT:"Ops! \n\n Algo deu errado",de_DE:"Oops! \n\n ging etwas schief"}},linkParameter:{"Canvas/play_area/triple":"x3 score","Canvas/play_area/labels/compliment/label":"NICE","Canvas/play_area/labels/game_over/sample_score_tool_tip":"OUT OF MOVES!","Canvas/layer_pause/label_pause":"Pause","Canvas/layer_pause/btn_continue/label_continue":"CONTINUE","Canvas/layer_pause/btn_restart/label_restart":"RESTART","Canvas/layer_pause/btn_localize/lb_lang":"English","Canvas/layer_tut/hinding":"Label","Canvas/layer_tut/text_motivate":"Label","Canvas/layer_video_continue/label_continue":"Out of move","Canvas/layer_video_continue/label_content":"Want more chance ?","Canvas/layer_video_continue/btn_save_me/label_continue":"WATCH","Canvas/layer_video_continue/btn_cancel/label_restart":"GAME OVER","Canvas/layer_result/lb_best_score":"BEST","Canvas/layer_result/lb_score":"YOUR SCORE","Canvas/layer_result/btn_replay/label_replay":"REPLAY","Canvas/layer_result/btn_brag/label_brag":"BRAG","Canvas/layer_leaderboard/header/label_score_intro":"SCORE","Canvas/layer_leaderboard/header/btn_brag/label_continue":"BRAG","Canvas/layer_leaderboard/content_bg/bottom_container/btn_replay/label_restart":"REPLAY","Canvas/layer_challenge/content/lb_static":"Your Score","Canvas/layer_challenge/content/header/lb_top":"Great","Canvas/layer_challenge/content/btn_c_play/Background/Label":"PLAY","Canvas/layer_challenge/content/btn_c_play_another/Background/Label":"Play another friends","Canvas/layer_challenge/content/btn_c_cancel/Background/Label":"Cancel","Canvas/layer_alert/label_header":"Notice","Canvas/layer_alert/btn_ok/label_restart":"OK"},VS:{ar_AR:"VS",pl_PL:"VS",en_US:"VS",tr_TR:"VS",vi_VN:"VS",es_ES:"VS",zh_CN:"VS",th_TH:"VS",fr_FR:"VS",pt_PT:"VS",de_DE:"VS"}};n.localizeConfig=o,cc._RF.pop()},{"../all_modules":"all_modules"}],localize:[function(e,t,n){"use strict";cc._RF.push(t,"d5893fLbxRDZY087HwmJ5gU","localize"),n.__esModule=!0,n.localize=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i=e("localize_auto_tranform"),r={default_language:"ar_AR",init:function(){var e=this;this.checkNodeHasLabel(),this.currentLanguage=this.default_language,a.login.addLoginDataField("CurrentLanguage"),a.login.addCallback(function(t){t.currentLanguage||(e.currentLanguage=e.default_language,t.CurrentLanguage&&(e.currentLanguage=t.CurrentLanguage),e.pointerLang=0,-1!=a.localizeConfig.totalLocalLang.indexOf(e.currentLanguage)&&(e.pointerLang=a.localizeConfig.totalLocalLang.indexOf(e.currentLanguage)),e.updateCurrentLang())})},checkNodeHasLabel:function(){var e=this;this.ob={};var t=cc.find("Canvas");for(var n in t.children.map(function(t){e.searchArrayChildenNode(t)}),this.ob){var a=this.ob[n],o={};for(var r in a){var c=a[r];if(this.validateNode(c)){var l=c.getComponent(cc.Label).string;"NaN"==parseInt(l).toString()&&(o[this.getNodePath(c)]=c,c.addComponent(i))}}this.ob[n]=o}},searchArrayChildenNode:function(e){if(e){var t={};t[this.getNodePath(e)]=e,this.loopSearch(e.children,t),this.ob[e.name]=t}},loopSearch:function(e,t){var n=this;if(!(e.length>0))return t;var a=[];if(e.map(function(e){t[n.getNodePath(e)]||(t[n.getNodePath(e)]=e),e.children.length>0&&(a=a.concat(e.children))}),!(a.length>0))return t;this.loopSearch(a,t)},validateNode:function(e){return!!e.getComponent(cc.Label)},getNodePath:function(e){var t="";if(e){var n=e.name,a=e.parent;for(t=a.name+"/"+n;"Canvas"!=a.name;){var o=t;if(t=(a=a.parent).name+"/"+o,"Canvas"==a.name)break}}return t},convertPosition:function(e){var t="";return 0!=e.length&&a.localizeConfig.localize&&this.currentLanguage&&(a.localizeConfig.localize[e]?t=a.localizeConfig.localize[e][this.currentLanguage]:"ENGLISH"==e&&(t=a.localizeConfig.meaningLocalLang[this.pointerLang])),t},onClickChangeLocalize:function(){this.pointerLang++,this.pointerLang>=a.localizeConfig.totalLocalLang.length&&(this.pointerLang=0),this.currentLanguage=a.localizeConfig.totalLocalLang[this.pointerLang],a.data.saveData({CurrentLanguage:this.currentLanguage}),this.emitProxyNode()},emitProxyNode:function(){cc.find("Canvas").emit("TRANFORM_TEXT")},getProxyNode:function(){return cc.find("Canvas")},updateCurrentLang:function(){this.emitProxyNode()}};n.localize=r,cc._RF.pop()},{"../all_modules":"all_modules",localize_auto_tranform:"localize_auto_tranform"}],login:[function(e,t,n){"use strict";cc._RF.push(t,"fe386YvlHxGE7kmX8nmL/Zk","login"),n.__esModule=!0,n.login=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i=["LoginTime","IsOldUser","isTutDone","isDoneTutRolated","isDoneTutBom","isDoneTutRelocated","isDoneTutTriple"],r=[],c={init:function(){a.utils.waitToRun(function(){a.data.loadEntryPointData(),a.login.getFBData()},"isUserReady",a.data)},addLoginDataField:function(e){i.includes(e)||i.push(e)},addCallback:function(e){a.login.loginData?e(a.login.loginData):r.push(e)},getFBData:function(){a.data.loadData(i,function(e){if(e.isNewUser=!e.IsOldUser,e.isNewUser)return a.utilsFB.log("ev_login_new_user_incoming"),a.user.initNewUser(e),a.login.initLogin(e),a.data.saveData({IsOldUser:!0}),void a.friend.loadDataFrienld();a.login.initLogin(e),a.friend.loadDataFrienld()})},initLogin:function(e){a.login.isInitLoginCalled||(a.login.isInitLoginCalled=!0,a.login.loginData=e,a.user.lastLoginTime=e.LoginTime||_time(),r.map(function(t){try{t(e)}catch(n){_log("loginCallback func error",n)}}))}};n.login=c,cc._RF.pop()},{"../all_modules":"all_modules"}],map_visual:[function(e,t,n){"use strict";cc._RF.push(t,"5c7b7iZGvxOE5SKb4kkO3wf","map_visual"),n.__esModule=!0,n.mapVisual=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i=e("blockAsset"),r={init:function(){var e=cc.find("Canvas/sample_block");cc.find("Canvas/play_area/map").children.map(function(t){a.utils.copyNodeTo(e,t).active=!1,t.cellNumber=t.name.replace("Image_HexBlock_","")}),cc.find("Canvas/play_area/new_item_container/new_item/item_types").children.map(function(t){t.children.map(function(t){a.utils.copyNodeTo(e,t).active=!1})})},resetSingleCell:function(e){var t=cc.find("Canvas/play_area/map/Image_HexBlock_"+e+"/sample_block");if(t)return t.active=!1,t.x=t.y=0,t},resetMap:function(){var e=this;cc.find("Canvas/play_area/map").children.map(function(t){return e.resetSingleCell(t.name.replace("Image_HexBlock_",""))})},decorBlock:function(e,t){e.getChildByName("x").active=!1,e.getChildByName("Image_HexBlock").getComponent(cc.Sprite).spriteFrame=e.getChildByName("Image_HexBlock").getComponent(i).assetBlock[parseInt(t)-1],7!=t?a.utils.setLabelText(e.getChildByName("label"),t):(e.getChildByName("x").active=!0,a.utils.setLabelText(e.getChildByName("label"),"")),e.active=!0},renderSingleCell:function(e,t){if(t){var n=this.resetSingleCell(e);this.decorBlock(n,t)}},renderMap:function(e){for(var t in this.resetMap(),e)this.renderSingleCell(t,e[t])}};n.mapVisual=r,cc._RF.pop()},{"../all_modules":"all_modules",blockAsset:"blockAsset"}],map:[function(e,t,n){"use strict";cc._RF.push(t,"c5e96y1mC9AyJNqpp7vl0Rq","map"),n.__esModule=!0,n.map=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={cellLinks:e("cell_links"),cellLinkMap:{},currentState:null,selectedCell:null,minorCell:null,init:function(){for(var e in this.cellLinks){var t=e.split("_"),n=cc.find("Canvas/play_area/map/Image_HexBlock_"+t[0]),a=cc.find("Canvas/play_area/map/Image_HexBlock_"+t[1]),o=n.x>a.x;this.cellLinkMap[t[0]]=this.cellLinkMap[t[0]]||{},this.cellLinkMap[t[0]][t[1]]=this.cellLinks[e]+(o?"_dominated":""),this.cellLinkMap[t[1]]=this.cellLinkMap[t[1]]||{},this.cellLinkMap[t[1]][t[0]]=this.cellLinks[e]+(o?"":"_dominated")}},resetMap:function(){this.currentState={},a.mapVisual.resetMap()},setSingleCell:function(e,t){this.currentState[e]=t,a.mapVisual.renderSingleCell(e,t)},clearSingleCell:function(e){this.currentState[e]=null,a.mapVisual.resetSingleCell(e)},setCellGroup:function(e){var t=this;e.map(function(e){t.setSingleCell(e.cellNumber,e.blockNumber)})},clearCellGroup:function(e){var t=this;e.map(function(e){t.clearSingleCell(e)})},checkNewItemDroppableAtCell:function(e){if(!this.currentState[e]){var t=a.game.currentItemBiasType;if("single_block"==t)return!0;var n,o=this.cellLinkMap[e];for(var i in o)if(o[i]==t){n=i;break}if(n&&!this.currentState[n])return n}},dropNewItemAtCell:function(e,t){this.setSingleCell(e,a.game.currentKeyBlockNumber),t&&this.setSingleCell(t,a.game.currentMinorBlockNumber)},checkAvailableNewItemInfo:function(){var e=1,t=new Set;for(var n in this.cellLinkMap)if(!this.currentState[n+""]){var a=this.cellLinkMap[n];for(var o in a)if(!this.currentState[o+""]){e=2;var i=a[o].replace("_dominated","");t.add(i)}}return{blockCount:e,biasTypeArr:Array.from(t)}},isFulled:function(){return 19==Object.values(this.currentState).filter(function(e){return!!e}).length},checkBlockScore:function(e){var t,n=this,a=this.currentState[e],o=((t={})[e]=!0,t),i=[e],r=19,c=this.cellLinkMap;return function e(t){if(!(--r<=0)){var l=[];for(var u in c[t])o[u]||(o[u]=!0,n.currentState[u]==a&&(i.push(u),l.push(u)));l.map(function(t){return e(t)})}}(e),!(i.length<3)&&i}};n.map=i,cc._RF.pop()},{"../all_modules":"all_modules",cell_links:"cell_links"}],md5:[function(e,t){"use strict";cc._RF.push(t,"fd908DkuZ1KZqhhfUyqSqOb","md5"),t.exports={MD5:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,a,o,i,r;return o=2147483648&e,i=2147483648&t,r=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(a=1073741824&t)?2147483648^r^o^i:n|a?1073741824&r?3221225472^r^o^i:1073741824^r^o^i:r^o^i}function a(e,t,n){return e&t|~e&n}function o(e,t,n){return e&n|t&~n}function i(e,t,n){return e^t^n}function r(e,t,n){return t^(e|~n)}function c(e,o,i,r,c,l,u){return e=n(e,n(n(a(o,i,r),c),u)),n(t(e,l),o)}function l(e,a,i,r,c,l,u){return e=n(e,n(n(o(a,i,r),c),u)),n(t(e,l),a)}function u(e,a,o,r,c,l,u){return e=n(e,n(n(i(a,o,r),c),u)),n(t(e,l),a)}function s(e,a,o,i,c,l,u){return e=n(e,n(n(r(a,o,i),c),u)),n(t(e,l),a)}function d(e){var t,n="",a="";for(t=0;t<=3;t++)n+=(a="0"+(e>>>8*t&255).toString(16)).substr(a.length-2,2);return n}var f,p,_,h,m,v,g,y,b,C=Array();for(C=function(e){for(var t,n=e.length,a=n+8,o=16*((a-a%64)/64+1),i=Array(o-1),r=0,c=0;c<n;)r=c%4*8,i[t=(c-c%4)/4]=i[t]|e.charCodeAt(c)<<r,c++;return r=c%4*8,i[t=(c-c%4)/4]=i[t]|128<<r,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t}(e)),v=1732584193,g=4023233417,y=2562383102,b=271733878,f=0;f<C.length;f+=16)p=v,_=g,h=y,m=b,v=c(v,g,y,b,C[f+0],7,3614090360),b=c(b,v,g,y,C[f+1],12,3905402710),y=c(y,b,v,g,C[f+2],17,606105819),g=c(g,y,b,v,C[f+3],22,3250441966),v=c(v,g,y,b,C[f+4],7,4118548399),b=c(b,v,g,y,C[f+5],12,1200080426),y=c(y,b,v,g,C[f+6],17,2821735955),g=c(g,y,b,v,C[f+7],22,4249261313),v=c(v,g,y,b,C[f+8],7,1770035416),b=c(b,v,g,y,C[f+9],12,2336552879),y=c(y,b,v,g,C[f+10],17,4294925233),g=c(g,y,b,v,C[f+11],22,2304563134),v=c(v,g,y,b,C[f+12],7,1804603682),b=c(b,v,g,y,C[f+13],12,4254626195),y=c(y,b,v,g,C[f+14],17,2792965006),v=l(v,g=c(g,y,b,v,C[f+15],22,1236535329),y,b,C[f+1],5,4129170786),b=l(b,v,g,y,C[f+6],9,3225465664),y=l(y,b,v,g,C[f+11],14,643717713),g=l(g,y,b,v,C[f+0],20,3921069994),v=l(v,g,y,b,C[f+5],5,3593408605),b=l(b,v,g,y,C[f+10],9,38016083),y=l(y,b,v,g,C[f+15],14,3634488961),g=l(g,y,b,v,C[f+4],20,3889429448),v=l(v,g,y,b,C[f+9],5,568446438),b=l(b,v,g,y,C[f+14],9,3275163606),y=l(y,b,v,g,C[f+3],14,4107603335),g=l(g,y,b,v,C[f+8],20,1163531501),v=l(v,g,y,b,C[f+13],5,2850285829),b=l(b,v,g,y,C[f+2],9,4243563512),y=l(y,b,v,g,C[f+7],14,1735328473),v=u(v,g=l(g,y,b,v,C[f+12],20,2368359562),y,b,C[f+5],4,4294588738),b=u(b,v,g,y,C[f+8],11,2272392833),y=u(y,b,v,g,C[f+11],16,1839030562),g=u(g,y,b,v,C[f+14],23,4259657740),v=u(v,g,y,b,C[f+1],4,2763975236),b=u(b,v,g,y,C[f+4],11,1272893353),y=u(y,b,v,g,C[f+7],16,4139469664),g=u(g,y,b,v,C[f+10],23,3200236656),v=u(v,g,y,b,C[f+13],4,681279174),b=u(b,v,g,y,C[f+0],11,3936430074),y=u(y,b,v,g,C[f+3],16,3572445317),g=u(g,y,b,v,C[f+6],23,76029189),v=u(v,g,y,b,C[f+9],4,3654602809),b=u(b,v,g,y,C[f+12],11,3873151461),y=u(y,b,v,g,C[f+15],16,530742520),v=s(v,g=u(g,y,b,v,C[f+2],23,3299628645),y,b,C[f+0],6,4096336452),b=s(b,v,g,y,C[f+7],10,1126891415),y=s(y,b,v,g,C[f+14],15,2878612391),g=s(g,y,b,v,C[f+5],21,4237533241),v=s(v,g,y,b,C[f+12],6,1700485571),b=s(b,v,g,y,C[f+3],10,2399980690),y=s(y,b,v,g,C[f+10],15,4293915773),g=s(g,y,b,v,C[f+1],21,2240044497),v=s(v,g,y,b,C[f+8],6,1873313359),b=s(b,v,g,y,C[f+15],10,4264355552),y=s(y,b,v,g,C[f+6],15,2734768916),g=s(g,y,b,v,C[f+13],21,1309151649),v=s(v,g,y,b,C[f+4],6,4149444226),b=s(b,v,g,y,C[f+11],10,3174756917),y=s(y,b,v,g,C[f+2],15,718787259),g=s(g,y,b,v,C[f+9],21,3951481745),v=n(v,p),g=n(g,_),y=n(y,h),b=n(b,m);return(d(v)+d(g)+d(y)+d(b)).toLowerCase()}},cc._RF.pop()},{}],message:[function(e,t,n){"use strict";cc._RF.push(t,"69a81aZStJKBrvJBkp/ATpA","message");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,a){var o,i=arguments.length,r=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(t){i(t)}}function c(e){try{l(a.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}l((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../all_modules"),u=cc._decorator,s=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Play_with_message=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.initBase64Picture=function(e){return r(this,void 0,void 0,function(){var t,n,a,o,i,r,l,u,s,d,f,p,_,h;return c(this,function(){for(e.activeInHierarchy||(e.parent.active=!0,e.parent.parent.active=!0),t=new cc.Node,e.addChild(t),t.position=e.position,(n=t.addComponent(cc.Camera)).cullingMask=4294967295,(a=new cc.RenderTexture).initWithSize(e.width,e.height),n.targetTexture=a,n.zoomRatio=3.27,o=a.width,i=a.height,(r=document.createElement("canvas")).width=o,r.height=i,l=r.getContext("2d"),n.render(e),u=a.readPixels(),s=4*o,d=0;d<i;d++)f=i-1-d,p=new Uint8ClampedArray(u.buffer,f*o*4,s),_=new ImageData(p,o,1),l.putImageData(_,0,d);return h=r.toDataURL(),setTimeout(function(){return e.parent.active=!1},2e3),[2,h]})})},t.prototype.initPayload=function(e,t,n,a){return r(this,void 0,void 0,function(){var o;return c(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.initBase64Picture(e)];case 1:return o=i.sent(),[2,{action:"CUSTOM",text:t,cta:n,image:o,template:"play_turn",strategy:"IMMEDIATE",data:a,notification:"PUSH"}];case 2:throw i.sent();case 3:return[2]}})})},t.prototype.sendMessagePlayWith=function(){return r(this,void 0,void 0,function(){var e,t,n,a,o;return c(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=this.Play_with_message.getChildByName("lb_username"),l.utils.setLabelText(e,l.user.name),t=this.Play_with_message.getChildByName("user_score"),l.utils.setLabelText(t,l.utils.localizeNumber(l.user.score)),n=l.user.name+" has "+l.user.score+" when  playing Hexa 7",[4,this.initPayload(this.Play_with_message,n,"")];case 1:return a=i.sent(),[4,FBInstant.updateAsync(a)];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),_log("sendMessageGiftRequest",o),[3,4];case 4:return[2]}})})},i([d(cc.Node)],t.prototype,"Play_with_message",void 0),i([s],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../all_modules":"all_modules"}],promo:[function(e,t,n){"use strict";cc._RF.push(t,"8faa3pvFlNJnYG+y+nxzeDp","promo"),n.__esModule=!0,n.promo=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={countScale:0,init:function(){cc.find("Canvas/layer_leaderboard/content_bg/middle_container/promo_panel").active=window.canPromo,cc.find("Canvas/layer_leaderboard/content_bg/middle_container/leaderboard/leaderboard_content").height=window.canPromo?375:573},renderButtonByIcon:function(){var e=cc.find("Canvas/layer_leaderboard/content_bg/middle_container/promo_panel");e&&a.configs.listIdPromoGame&&e.children.map(function(e,t){a.utils.addButtonComp(e,function(){a.utilsFB.log("ev_click_button_promo_game",1,{Position:t}),a.social.switchPromoGame(a.configs.listIdPromoGame[t])})})},actionIconPromo:function(){var e=this,t=cc.find("Canvas/layer_leaderboard/content_bg/middle_container/promo_panel").children[this.countScale];t&&a.fx.bubble(t,function(){a.utils.setTimeout(function(){e.countScale++,e.countScale>2&&(e.countScale=0),e.actionIconPromo()},500)})}};n.promo=i,cc._RF.pop()},{"../all_modules":"all_modules"}],share:[function(e,t,n){"use strict";cc._RF.push(t,"42f63SSvQFLtKv50nkTNMEv","share");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,a){var o,i=arguments.length,r=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(t){i(t)}}function c(e){try{l(a.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}l((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=cc._decorator,u=l.ccclass,s=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SharePhoto_Normal=null,t}return o(t,e),t.prototype.initBase64Picture=function(e){return r(this,void 0,void 0,function(){var t,n,a,o,i,r,l,u,s,d,f,p,_,h;return c(this,function(){for(e.activeInHierarchy||(e.parent.active=!0,e.parent.parent.active=!0),t=new cc.Node,e.addChild(t),t.position=e.position,(n=t.addComponent(cc.Camera)).cullingMask=4294967295,(a=new cc.RenderTexture).initWithSize(e.width,e.height),n.targetTexture=a,n.zoomRatio=2.5,o=a.width,i=a.height,(r=document.createElement("canvas")).width=o,r.height=i,l=r.getContext("2d"),n.render(e),u=a.readPixels(),s=4*o,d=0;d<i;d++)f=i-1-d,p=new Uint8ClampedArray(u.buffer,f*o*4,s),_=new ImageData(p,o,1),l.putImageData(_,0,d);return h=r.toDataURL(),_log(e,a,n,r),setTimeout(function(){return e.parent.active=!1},2e3),[2,h]})})},t.prototype.initPayload=function(e,t,n){return r(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.initBase64Picture(e)];case 1:return[2,{intent:"SHARE",image:a.sent(),text:t,data:n}];case 2:throw a.sent();case 3:return[2]}})})},t.prototype.sharePostNormal=function(){return r(this,void 0,void 0,function(){var e,t;return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.initPayload(this.SharePhoto_Normal,"")];case 1:return e=n.sent(),_log(e),[4,FBInstant.shareAsync(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),_log(t),[3,4];case 4:return[2]}})})},i([s(cc.Node)],t.prototype,"SharePhoto_Normal",void 0),i([u],t)}(cc.Component);n.default=d,cc._RF.pop()},{}],social:[function(e,t,n){"use strict";cc._RF.push(t,"798712gdWZGPoFWJmCdWrqz","social"),n.__esModule=!0,n.social=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules")),o=r(e("../social/share")),i=r(e("../social/message"));function r(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l={init:function(){var e=this;a.login.addLoginDataField("subscribeInfo"),a.login.addLoginDataField("shortcutInfo"),a.login.addCallback(function(t){e.subscribeInfo=t.hasOwnProperty("subscribeInfo")?t.subscribeInfo:5,e.shortcutInfo=t.hasOwnProperty("shortcutInfo")?t.shortcutInfo:5})},share:function(e){0==cc.find("Canvas/shares").active&&(cc.find("Canvas/shares").active=!0),a.utils.setLabelText(cc.find("Canvas/shares/sharepicture/label_score"),a.utils.localizeNumber(e)),cc.find("Canvas/shares").getComponent(o.default).sharePostNormal()},sendMessageAfterQuit:function(){0==cc.find("Canvas/messages").active&&(cc.find("Canvas/messages").active=!0),cc.find("Canvas/messages").getComponent(i.default).sendMessagePlayWith()},askBotSubscribe:function(e){var t=this,n=function(){return e&&e()};return window.FBInstant?a.utilsFB.isSupportedAPI("player.canSubscribeBotAsync")&&a.utilsFB.isSupportedAPI("player.subscribeBotAsync")?"accepted"==this.subscribeInfo||this.subscribeInfo<=0?n():(this.subscribeInfo--,a.data.saveData({subscribeInfo:this.subscribeInfo}),void FBInstant.player.canSubscribeBotAsync().then(function(e){if(!e)return n()||_log(" askBotSubscribe :: can_subscribe = "+e+" ");FBInstant.player.subscribeBotAsync().then(function(){t.subscribeInfo="accepted",a.data.saveData({subscribeInfo:t.subscribeInfo}),n()}).catch(function(){return n()})}).catch(function(e){return n()||_log(" askBotSubscribe :: canSubscribeBotAsync().then(fail) => ",e)})):n()||_log(" askBotSubscribe :: isSupportedAPI > not supported"):n()},askShortcut:function(e){var t=this,n=function(){return e&&e()};return window.FBInstant&&a.utilsFB.isSupportedAPI("canCreateShortcutAsync")&&a.utilsFB.isSupportedAPI("createShortcutAsync")?"accepted"==this.shortcutInfo||this.shortcutInfo<=0?n():(this.shortcutInfo--,a.data.saveData({shortcutInfo:this.shortcutInfo}),void FBInstant.canCreateShortcutAsync().then(function(e){if(!e)return n();FBInstant.createShortcutAsync().then(function(){t.shortcutInfo="accepted",a.data.saveData({shortcutInfo:t.shortcutInfo}),n()}).catch(function(e){return n()||_log(" createShortcutAsync :: ",e)})}).catch(function(e){return n()||_log(" canCreateShortcutAsync :: ",e)})):n()},postSessionScore:function(){window.FBInstant&&(a.user.score<=(a.game.bestSessionScore||0)||(a.game.bestSessionScore=a.user.score,_log(" postSessionScore called score = "+a.game.bestSessionScore),FBInstant.postSessionScore(a.game.bestSessionScore)))},createContext:function(e,t,n){if(_log(" about to create context with player "+e),window.FBInstant){var a=function(e,t){e&&_log("Success ====> ",e),t&&_log("Fail  ====> ",t)};FBInstant.context.createAsync(e).then(function(){t&&t(),a("success")},function(e){n&&n(e),a("fail",e)})}else t&&t()},invite:function(e){try{FBInstant.context.chooseAsync().then(function(){e&&e(FBInstant.context.getID())}).catch(function(t){_log(t),e&&e()})}catch(t){_log(t),e&&e()}},switchPromoGame:function(e){FBInstant.switchGameAsync(e).catch(function(e){console("gameChangeError: ",e)})}};n.social=l,cc._RF.pop()},{"../all_modules":"all_modules","../social/message":"message","../social/share":"share"}],tut_bom:[function(e,t,n){"use strict";cc._RF.push(t,"10717k8lHpDzYNJ7X2xmgMF","tut_bom"),n.__esModule=!0,n.tutBom=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={init:function(){var e=this;a.login.addCallback(function(t){e.isDoneTutBom=t.isDoneTutBom})},checkDoneTutBom:function(){return!!this.isDoneTutBom},startTut:function(){a.configs.off_power_item||this.showing||(a.utilsFB.log("ev_start_tut_bom",1),a.ui.showLayer("layer_tut"),a.tutBom.startHandAction(),this.showing=!0,a.tutBom.showTextHinding())},startHandAction:function(){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),a.utils.setGlobalPositionToNode(e,cc.v2(cc.find("Canvas/play_area/btn_bomb").x+10,cc.find("Canvas/play_area/btn_bomb").y));var t=cc.find("Canvas/play_area/new_item_container");a.utils.setGlobalPositionToNode(cc.find("Canvas/layer_tut/text_motivate"),cc.v2(t.x,t.y+150)),e.angle=120,e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(e.x,e.y+70)),cc.moveTo(1,cc.v2(e.x,e.y+40)))))},endTut:function(){var e=this;a.configs.off_power_item||(a.utilsFB.log("ev_end_tut_bom",1),a.tutBom.setTextToMotivate(function(){a.ui.hideLayer("layer_tut"),e.showing=!1,e.isDoneTutBom=!0,a.data.saveData({isDoneTutBom:"1"})}))},checkHideTutHand:function(){if(!this.isDoneTutBom){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),e.x=9999}},checkShowTutHand:function(){this.isDoneTutBom||(cc.find("Canvas/layer_tut/handTutorial"),a.tut.startHandAction())},showTextHinding:function(){var e=cc.find("Canvas/layer_tut/hinding");0==e.active&&(e.active=!0),a.utils.setLabelText(e,"Try this to clear block")},hideTextHiding:function(){var e=cc.find("Canvas/layer_tut/hinding");1==e.active&&(e.active=!1)},setTextToMotivate:function(e){var t=cc.find("Canvas/layer_tut/text_motivate"),n=cc.instantiate(t);a.utils.setLabelText(n,"GOOD"),0==n.active&&(n.active=!0),n.parent=t.parent,n.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,2),cc.fadeTo(.5,255)),cc.spawn(cc.delayTime(.6),cc.sequence(cc.scaleTo(.15,2.5),cc.scaleTo(.15,2),cc.scaleTo(.15,2.5),cc.scaleTo(.15,2))),cc.spawn(cc.moveTo(.3,cc.v2(n.x,n.y+100)),cc.fadeTo(.3,0)),cc.callFunc(function(){n.destroy(),e&&e()})))}};n.tutBom=i,cc._RF.pop()},{"../all_modules":"all_modules"}],tut_relocated:[function(e,t,n){"use strict";cc._RF.push(t,"e7885JyJd1G44WC8QrBM049","tut_relocated"),n.__esModule=!0,n.tutRelocated=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={init:function(){var e=this;a.login.addCallback(function(t){e.isDoneTutRelocated=t.isDoneTutRelocated})},checkDoneTutRelocated:function(){return!!this.isDoneTutRelocated},startTut:function(){a.configs.off_power_item||this.showing||(this.showing=!0,a.utilsFB.log("ev_start_tut_relocated",1),a.ui.showLayer("layer_tut"),a.tutRelocated.startHandAction(),a.tutRelocated.showTextHinding())},startHandAction:function(){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions();var t=cc.v2(cc.find("Canvas/play_area/btn_relocated").x+10,cc.find("Canvas/play_area/btn_relocated").y);a.utils.setGlobalPositionToNode(e,t);var n=cc.find("Canvas/play_area/new_item_container");a.utils.setGlobalPositionToNode(cc.find("Canvas/layer_tut/text_motivate"),cc.v2(n.x,n.y+150)),e.angle=120,e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(e.x,e.y+70)),cc.moveTo(1,cc.v2(e.x,e.y+40)))))},endTut:function(){var e=this;a.configs.off_power_item||(a.utilsFB.log("ev_end_tut_relocated",1),a.tutRelocated.setTextToMotivate(function(){a.ui.hideLayer("layer_tut"),e.showing=!1,e.isDoneTutRelocated=!0,a.data.saveData({isDoneTutRelocated:"1"})}))},checkHideTutHand:function(){if(!this.isDoneTutRelocated){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),e.x=9999}},checkShowTutHand:function(){this.isDoneTutRelocated||(cc.find("Canvas/layer_tut/handTutorial"),a.tut.startHandAction())},showTextHinding:function(){var e=cc.find("Canvas/layer_tut/hinding");0==e.active&&(e.active=!0),a.utils.setLabelText(e,"Too hard ? Try this !")},hideTextHiding:function(){var e=cc.find("Canvas/layer_tut/hinding");1==e.active&&(e.active=!1)},setTextToMotivate:function(e){var t=cc.find("Canvas/layer_tut/text_motivate"),n=cc.instantiate(t);a.utils.setLabelText(n,"GOOD"),0==n.active&&(n.active=!0),n.parent=t.parent,n.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,2),cc.fadeTo(.5,255)),cc.spawn(cc.delayTime(.6),cc.sequence(cc.scaleTo(.15,2.5),cc.scaleTo(.15,2),cc.scaleTo(.15,2.5),cc.scaleTo(.15,2))),cc.spawn(cc.moveTo(.3,cc.v2(n.x,n.y+100)),cc.fadeTo(.3,0)),cc.callFunc(function(){n.destroy(),e&&e()})))}};n.tutRelocated=i,cc._RF.pop()},{"../all_modules":"all_modules"}],tut_rolated:[function(e,t,n){"use strict";cc._RF.push(t,"cfce1sUsQ5OurDg8kxMNnx/","tut_rolated"),n.__esModule=!0,n.tutRolated=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={init:function(){var e=this;a.login.addCallback(function(t){e.isDoneTutRolated=t.isDoneTutRolated})},checkDoneTutRolated:function(){return!!this.isDoneTutRolated},startTut:function(){a.configs.off_power_item||this.showing||(this.showing=!0,a.utilsFB.log("ev_start_tut_rolated",1),a.ui.showLayer("layer_tut"),a.tutRolated.startHandAction(),a.tutRolated.showTextHinding())},startHandAction:function(){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),a.utils.setGlobalPositionToNode(e,cc.find("Canvas/play_area/new_item_container")),a.utils.setGlobalPositionToNode(cc.find("Canvas/layer_tut/text_motivate"),cc.v2(e.x,e.y+150)),e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(e.x+50,e.y-50)),cc.moveTo(1,cc.v2(e.x,e.y)))))},endTut:function(){var e=this;a.configs.off_power_item||(a.utilsFB.log("ev_end_tut_rolated",1),a.tutRolated.setTextToMotivate(function(){a.ui.hideLayer("layer_tut"),e.showing=!1,e.isDoneTutRolated=!0,a.data.saveData({isDoneTutRolated:"1"})}))},checkHideTutHand:function(){if(!this.isDoneTutRolated){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),e.x=9999}},checkShowTutHand:function(){this.isDoneTutRolated||(cc.find("Canvas/layer_tut/handTutorial"),a.tut.startHandAction())},showTextHinding:function(){var e=cc.find("Canvas/layer_tut/hinding");0==e.active&&(e.active=!0),a.utils.setLabelText(e,"Tab here to switch block")},hideTextHiding:function(){var e=cc.find("Canvas/layer_tut/hinding");1==e.active&&(e.active=!1)},setTextToMotivate:function(e){var t=cc.find("Canvas/layer_tut/text_motivate"),n=cc.instantiate(t);a.utils.setLabelText(n,"GOOD"),0==n.active&&(n.active=!0),n.parent=t.parent,n.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,2),cc.fadeTo(.5,255)),cc.spawn(cc.delayTime(.6),cc.sequence(cc.scaleTo(.15,2.5),cc.scaleTo(.15,2),cc.scaleTo(.15,2.5),cc.scaleTo(.15,2))),cc.spawn(cc.moveTo(.3,cc.v2(n.x,n.y+100)),cc.fadeTo(.3,0)),cc.callFunc(function(){n.destroy(),e&&e()})))}};n.tutRolated=i,cc._RF.pop()},{"../all_modules":"all_modules"}],tut_triple:[function(e,t,n){"use strict";cc._RF.push(t,"15ca0z/icdB3LZQhIBuY/zv","tut_triple"),n.__esModule=!0,n.tutTriple=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={pointToShowTut:300,init:function(){var e=this;a.login.addCallback(function(t){e.isDoneTutTriple=t.isDoneTutTriple})},checkDoneTutTriple:function(){return!!this.isDoneTutTriple},startTut:function(){a.configs.off_power_item||this.showing||(a.utilsFB.log("ev_start_tut_triple",1),a.ui.showLayer("layer_tut"),a.tutTriple.startHandAction(),a.tutTriple.showTextHinding(),this.showing=!0)},startHandAction:function(){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions();var t=cc.v2(cc.find("Canvas/play_area/btn_triple").x+10,cc.find("Canvas/play_area/btn_triple").y);a.utils.setGlobalPositionToNode(e,t);var n=cc.find("Canvas/play_area/new_item_container");a.utils.setGlobalPositionToNode(cc.find("Canvas/layer_tut/text_motivate"),cc.v2(n.x,n.y+150)),e.angle=120,e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(e.x,e.y+70)),cc.moveTo(1,cc.v2(e.x,e.y+40)))))},endTut:function(){var e=this;a.configs.off_power_item||(a.utilsFB.log("ev_end_tut_triple",1),a.tutTriple.setTextToMotivate(function(){a.ui.hideLayer("layer_tut"),e.showing=!1,e.isDoneTutTriple=!0,a.data.saveData({isDoneTutTriple:"1"})}))},checkHideTutHand:function(){if(!this.isDoneTutTriple){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),e.x=9999}},checkShowTutHand:function(){this.isDoneTutTriple||(cc.find("Canvas/layer_tut/handTutorial"),a.tut.startHandAction())},showTextHinding:function(){var e=cc.find("Canvas/layer_tut/hinding");0==e.active&&(e.active=!0),a.utils.setLabelText(e,"Try X3 your score")},hideTextHiding:function(){var e=cc.find("Canvas/layer_tut/hinding");1==e.active&&(e.active=!1)},setTextToMotivate:function(e){var t=cc.find("Canvas/layer_tut/text_motivate"),n=cc.instantiate(t);a.utils.setLabelText(n,"GOOD"),0==n.active&&(n.active=!0),n.parent=t.parent,n.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,2),cc.fadeTo(.5,255)),cc.spawn(cc.delayTime(.6),cc.sequence(cc.scaleTo(.15,2.5),cc.scaleTo(.15,2),cc.scaleTo(.15,2.5),cc.scaleTo(.15,2))),cc.spawn(cc.moveTo(.3,cc.v2(n.x,n.y+100)),cc.fadeTo(.3,0)),cc.callFunc(function(){n.destroy(),e&&e()})))}};n.tutTriple=i,cc._RF.pop()},{"../all_modules":"all_modules"}],tut:[function(e,t,n){"use strict";cc._RF.push(t,"33211x+j9pPGZ3fmy92K4hC","tut"),n.__esModule=!0,n.tut=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={tutMapState:{9:1,11:1},targetCell:10,init:function(){var e=this;a.login.addCallback(function(t){e.isTutDone=t.isTutDone,t.isTutDone||e.startTut()})},startTut:function(){a.ui.showLayer("layer_tut"),a.tut.startHandAction()},startHandAction:function(){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),a.utils.setGlobalPositionToNode(e,cc.find("Canvas/play_area/new_item_container"));var t=cc.find("Canvas/play_area/map/Image_HexBlock_"+this.targetCell+"/bg"),n=a.utils.getGlobalPosition(t),o=a.utils.global2LocalPosDiff(e,n.x,n.y);o.y,e.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1,o).easing(cc.easeOut(1)),cc.delayTime(.8),cc.moveBy(0,o.mul(-1)),cc.moveBy(.3,cc.v2(0,-10)),cc.moveBy(.15,cc.v2(0,10))))),t.orgOpacity&&(t.opacity=t.orgOpacity),t.orgOpacity=t.opacity,t.opacity*=3},endTut:function(){a.utilsFB.log("ev_done_tutorial"),a.ui.hideLayer("layer_tut");var e=cc.find("Canvas/play_area/map/Image_HexBlock_"+this.targetCell+"/bg");e.opacity=e.orgOpacity,this.isTutDone=!0,a.data.saveData({isTutDone:"1"})},checkHideTutHand:function(){if(!this.isTutDone){var e=cc.find("Canvas/layer_tut/handTutorial");e.stopAllActions(),e.x=9999}},checkShowTutHand:function(){this.isTutDone||(cc.find("Canvas/layer_tut/handTutorial"),a.tut.startHandAction())},checkDoneTut:function(){this.isTutDone||this.endTut()}};n.tut=i,cc._RF.pop()},{"../all_modules":"all_modules"}],ui_challenge:[function(e,t,n){"use strict";cc._RF.push(t,"930fabPGyxIu63HqmS5yaE+","ui_challenge"),n.__esModule=!0,n.uiChallenge=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={challengedFriendArr:[],countCancelChallenge:{key:"",value:0},init:function(){a.login.addLoginDataField("countSaving"),a.login.addCallback(function(e){if(e){var t=new Date;if(e.countSaving){var n=e.countSaving;if(n){var o=n.key,i=o.split("/"),r=i[0],c=i[1],l=i[2],u=t.toLocaleDateString().split("/"),s=u[0],d=u[1],f=u[2];l==f&&c==d&&r==s?(a.uiChallenge.countCancelChallenge.key=o,a.uiChallenge.countCancelChallenge.value=n.value):(a.uiChallenge.countCancelChallenge.key=s+"/"+d+"/"+f,a.uiChallenge.countCancelChallenge.value=0)}else{var p=t.toLocaleDateString().split("/"),_=p[0]+"/"+p[1]+"/"+p[2];a.uiChallenge.countCancelChallenge.key=_,a.uiChallenge.countCancelChallenge.value=0,a.data.saveData({countSaving:a.uiChallenge.countCancelChallenge})}}else{var h=t.toLocaleDateString().split("/"),m=h[0]+"/"+h[1]+"/"+h[2];a.uiChallenge.countCancelChallenge.key=m,a.uiChallenge.countCancelChallenge.value=0,a.data.saveData({countSaving:a.uiChallenge.countCancelChallenge})}}})},setDataChallenge:function(e){var t=cc.find("Canvas/layer_challenge/content/bg_left"),n=cc.find("Canvas/layer_challenge/content/bg_right"),o=cc.find("Canvas/layer_challenge/content/lb_score");a.utils.setLabelText(o,a.user.score+"!",!0),a.uiChallenge.setDirectorData(t,a.user,!0),this.selectedFriend=a.friend.getRandomFriendInList(),this.selectedFriend&&a.uiChallenge.setDirectorData(n,this.selectedFriend,!1),e&&e()},setDirectorData:function(e,t,n){if(e&&t){var o=e.getChildByName("avata"),i=e.getChildByName("lb_point"),r=e.getChildByName("lb_name"),c=e.getChildByName("crown");console.log("data.name   ",t.name,"===> data.score  ",t.score),a.utils.setLabelTextPrice(i,t.score),a.utils.setLabelText(r,t.name),c.active=n,cc.assetManager.loadRemote(t.photo,function(e,t){if(!e){var n=new cc.SpriteFrame(t);o.getComponent(cc.Sprite).spriteFrame=n,o.width=198,o.height=200}})}},onClickCancel:function(){a.uiChallenge.closeChallenge(function(){a.uiChallenge.saveCountCancel(),a.uiGameOver.openPanelGameOver(!0)})},saveCountCancel:function(){var e=(new Date).toLocaleDateString().split("/"),t=e[0]+"/"+e[1]+"/"+e[2];a.uiChallenge.countCancelChallenge&&t==a.uiChallenge.countCancelChallenge.key&&(a.uiChallenge.countCancelChallenge.value++,a.data.saveData({countSaving:a.uiChallenge.countCancelChallenge}))},resetCountCancel:function(){var e=(new Date).toLocaleDateString().split("/"),t=e[0]+"/"+e[1]+"/"+e[2];a.uiChallenge.countCancelChallenge&&t==a.uiChallenge.countCancelChallenge.key&&(a.uiChallenge.countCancelChallenge.value=0,a.data.saveData({countSaving:a.uiChallenge.countCancelChallenge}))},runActionShowItem:function(){cc.find("Canvas/Chalenge_scene/content/main_content");var e=cc.find("Canvas/layer_challenge/content/header/lb_top");a.fx.showTextGreate(e);var t=cc.find("Canvas/layer_challenge/content/header/star_left"),n=cc.find("Canvas/layer_challenge/content/header/star_center"),o=cc.find("Canvas/layer_challenge/content/header/star_right");a.fx.animStar([t,n,o]);var i=cc.find("Canvas/layer_challenge/content/bg_left/avata"),r=cc.find("Canvas/layer_challenge/content/bg_right/avata");a.fx.effectForInfo(i,-100),a.fx.effectForInfo(r,100);var c=cc.find("Canvas/layer_challenge/content/btn_c_play"),l=cc.find("Canvas/layer_challenge/content/btn_c_play_another"),u=cc.find("Canvas/layer_challenge/content/btn_c_cancel");a.fx.effectForButton(c,1),a.fx.effectForButton(l,1.5),a.fx.effectForButton(u,2.75)}};n.uiChallenge=i,cc._RF.pop()},{"../all_modules":"all_modules"}],ui_power_item:[function(e,t,n){"use strict";cc._RF.push(t,"df16bHJ+5RPKr+2U0ZjM8rn","ui_power_item"),n.__esModule=!0,n.uiPowerItem=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={triplePoint:!1,totalBom:0,totalRelocated:0,totalTriple:0,init:function(){a.login.addLoginDataField("TotalBom"),a.login.addLoginDataField("TotalRelocated"),a.login.addLoginDataField("TotalTriple"),this.bgTotalBom=cc.find("Canvas/play_area/btn_bomb/bg_total_bom"),this.bgTotalRotate=cc.find("Canvas/play_area/btn_relocated/bg_total_relocated"),this.bgTotalTriple=cc.find("Canvas/play_area/btn_triple/bg_total_triple"),a.login.addCallback(function(e){a.uiPowerItem.totalBom=a.uiPowerItem.totalBom&&0!=a.uiPowerItem.totalBom?a.uiPowerItem.totalBom:0,a.uiPowerItem.totalRelocated=a.uiPowerItem.totalRelocated&&0!=a.uiPowerItem.totalRelocated?a.uiPowerItem.totalRelocated:0,a.uiPowerItem.totalTriple=a.uiPowerItem.totalTriple&&0!=a.uiPowerItem.totalTriple?a.uiPowerItem.totalTriple:0,e.isNewUser?(a.uiPowerItem.totalBom=2,a.uiPowerItem.totalRelocated=2,a.uiPowerItem.totalTriple=2):(a.uiPowerItem.totalBom=e.TotalBom?e.TotalBom:0,a.uiPowerItem.totalRelocated=e.TotalRelocated?e.TotalRelocated:0,a.uiPowerItem.totalTriple=e.TotalTriple?e.TotalTriple:0),a.data.saveData({TotalBom:a.uiPowerItem.totalBom}),a.data.saveData({TotalRelocated:a.uiPowerItem.totalRelocated}),a.data.saveData({TotalTriple:a.uiPowerItem.totalTriple}),a.uiPowerItem.updatePowerItem()}),this.btnBom=cc.find("Canvas/play_area/btn_bomb"),this.btnRotate=cc.find("Canvas/play_area/btn_relocated"),this.btnTriple=cc.find("Canvas/play_area/btn_triple"),a.utils.addButtonComp(this.btnBom,function(){return a.uiPowerItem.onClickBom()}),a.utils.addButtonComp(this.btnRotate,function(){return a.uiPowerItem.onClickRelocated()}),a.utils.addButtonComp(this.btnTriple,function(){return a.uiPowerItem.onClickTriple()}),a.configs.off_power_item&&(this.btnBom.active=!1,this.btnRotate.active=!1,this.btnTriple.active=!1)},updatePowerItem:function(){this.bgTotalBom&&(this.bgTotalBom.children.map(function(e){e.active=!1}),a.uiPowerItem.totalBom&&a.uiPowerItem.totalBom>0?(this.bgTotalBom.active=!0,this.bgTotalBom.getChildByName("total").active=!0,a.utils.setLabelText(this.bgTotalBom.getChildByName("total"),a.uiPowerItem.totalBom)):(this.bgTotalBom.active=!0,this.bgTotalBom.getChildByName("video").active=!0)),this.bgTotalRotate&&(this.bgTotalRotate.children.map(function(e){e.active=!1}),a.uiPowerItem.totalRelocated&&a.uiPowerItem.totalRelocated>0?(this.bgTotalRotate.active=!0,this.bgTotalRotate.getChildByName("total").active=!0,a.utils.setLabelText(this.bgTotalRotate.getChildByName("total"),a.uiPowerItem.totalRelocated)):(this.bgTotalRotate.active=!0,this.bgTotalRotate.getChildByName("video").active=!0)),this.bgTotalTriple&&(this.bgTotalTriple.children.map(function(e){e.active=!1}),a.uiPowerItem.totalTriple&&a.uiPowerItem.totalTriple>0?(this.bgTotalTriple.active=!0,this.bgTotalTriple.getChildByName("total").active=!0,a.utils.setLabelText(this.bgTotalTriple.getChildByName("total"),a.uiPowerItem.totalTriple)):a.game.triplePoint?this.bgTotalTriple.active=!1:(this.bgTotalTriple.active=!0,this.bgTotalTriple.getChildByName("video").active=!0))},onClickBom:function(){a.ui.showLayer("layer_anim"),a.utilsFB.log("power_item_bom_click",1),a.uiPowerItem.totalBom&&a.uiPowerItem.totalBom>0?(a.utilsFB.log("power_item_bom_using_success",1),a.game.actionPowerItemBom(function(){return a.uiPowerItem.updatePowerItem()})):(a.utilsFB.log("power_item_bom_open_ads",1),a.configs.off_inter_ads?(a.utilsFB.log("power_item_bom_fail",1),a.ui.showAlert("Oops!\n\nSomething went wrong",function(){return a.uiPowerItem.addItemBom()})):a.video.showVideo(function(){a.utilsFB.log("power_item_bom_watch_video_success",1),a.uiPowerItem.addItemBom()},function(e,t){t?(a.utilsFB.log("power_item_bom_fail",1),a.ui.showAlert("Oops!\n\nSomething went wrong",function(){return a.ui.hideLayer("layer_anim")})):(a.utilsFB.log("power_item_bom_quit",1),a.ui.showAlert("BOM FAil : "+e.message,function(){return a.uiPowerItem.addItemBom()}))}))},addItemBom:function(){a.uiPowerItem.totalBom+=1,a.data.saveData({TotalBom:a.uiPowerItem.totalBom}),a.ui.showLayer("layer_anim"),a.game.actionPowerItemBom(),a.uiPowerItem.updatePowerItem(),a.uiPowerItem.flyingMove(cc.find("Canvas/play_area/btn_bomb"),function(){},"plus")},onClickRelocated:function(){a.ui.showLayer("layer_anim"),a.utilsFB.log("power_item_relocated_click",1),a.uiPowerItem.totalRelocated&&a.uiPowerItem.totalRelocated>0?(a.utilsFB.log("power_item_relocated_using_success",1),a.game.actionPowerItemRelocated(function(){return a.uiPowerItem.updatePowerItem()})):(a.utilsFB.log("power_item_relocated_open_ads",1),a.configs.off_inter_ads?(a.utilsFB.log("power_item_relocated_fail",1),a.ui.showAlert("Oops!\n\nSomething went wrong",function(){return a.uiPowerItem.addItemRelocated()})):a.video.showVideo(function(){a.utilsFB.log("power_item_relocated_watch_video_success",1),a.uiPowerItem.addItemRelocated()},function(e,t){t?(a.utilsFB.log("power_item_relocated_fail",1),a.ui.showAlert("Oops!\n\nSomething went wrong",function(){return a.ui.hideLayer("layer_anim")})):(a.utilsFB.log("power_item_relocated_quit",1),a.ui.showAlert("RELOCATED FAil : "+e.message,function(){return a.uiPowerItem.addItemRelocated()}))}))},addItemRelocated:function(){a.uiPowerItem.totalRelocated+=1,a.data.saveData({TotalRelocated:a.uiPowerItem.totalRelocated}),a.ui.showLayer("layer_anim"),a.uiPowerItem.updatePowerItem(),a.game.actionPowerItemRelocated(),a.uiPowerItem.flyingMove(cc.find("Canvas/play_area/btn_relocated"),function(){},"plus")},onClickTriple:function(){a.game.triplePoint||(a.ui.showLayer("layer_anim"),a.utilsFB.log("power_item_triple_click",1),a.uiPowerItem.totalTriple&&a.uiPowerItem.totalTriple>0?(a.utilsFB.log("power_item_triple_using_success",1),a.game.actionPowerItemTriple()):(a.utilsFB.log("power_item_triple_open_ads",1),a.configs.off_inter_ads?(a.utilsFB.log("power_item_triple_fail",1),a.ui.showAlert("Oops!\n\nSomething went wrong",function(){return a.uiPowerItem.addItemTriple()})):a.video.showVideo(function(){a.utilsFB.log("power_item_triple_watch_video_success",1),a.uiPowerItem.addItemTriple()},function(e,t){t?(a.utilsFB.log("power_item_triple_fail",1),a.ui.showAlert("Oops!\n\nSomething went wrong",function(){return a.ui.hideLayer("layer_anim")})):(a.utilsFB.log("power_item_triple_quit",1),a.ui.showAlert("TRIPLE FAil : "+e.message,function(){return a.uiPowerItem.addItemTriple()}))})))},addItemTriple:function(){a.uiPowerItem.totalTriple+=1,a.data.saveData({TotalTriple:a.uiPowerItem.totalTriple}),a.uiPowerItem.updatePowerItem(),a.uiPowerItem.flyingMove(cc.find("Canvas/play_area/btn_triple"),function(){},"plus"),a.utils.setTimeout(function(){a.game.actionPowerItemTriple()},1e3)},validateBoomSuccess:function(){a.uiPowerItem.totalBom--,a.data.saveData({TotalBom:a.uiPowerItem.totalBom}),a.uiPowerItem.updatePowerItem()},validateTripleSuccess:function(){a.uiPowerItem.totalTriple--,a.data.saveData({TotalTriple:a.uiPowerItem.totalTriple}),a.uiPowerItem.updatePowerItem()},validateRelocatedSuccess:function(){a.uiPowerItem.totalRelocated--,a.data.saveData({TotalRelocated:a.uiPowerItem.totalRelocated}),a.uiPowerItem.updatePowerItem()},flyingMove:function(e,t,n){var o=cc.find("Canvas/play_area/clone_fly");if(o){var i=cc.instantiate(o);e&&e.addChild(i),"plus"==n?a.utils.setLabelText(i,"+1"):"minus"==n&&a.utils.setLabelText(i,"-1"),i.scale=2,i.x=0,i.y=0,0==i.active&&(i.active=!0),a.fx.nodeMoveAndHidden(i,t)}}};n.uiPowerItem=i,cc._RF.pop()},{"../all_modules":"all_modules"}],ui:[function(e,t,n){"use strict";cc._RF.push(t,"4ba12rmZ0ZN3J73uy5JMvr9","ui"),n.__esModule=!0,n.ui=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={hideNagTimer:null,hideLoadingRealServerTimer:null,init:function(){a.ui.initButtonHandler()},initButtonHandler:function(){a.utils.addButtonComp(cc.find("Canvas/layer_leaderboard/header/btn_brag"),function(){a.utilsFB.log("ev_click_button_brag_top"),a.social.share(a.user.score)}),a.utils.addButtonComp(cc.find("Canvas/layer_leaderboard/content_bg/bottom_container/btn_share"),function(){a.utilsFB.log("ev_click_button_brag_bottom"),a.social.share(a.user.score)}),a.utils.addButtonComp(cc.find("Canvas/layer_leaderboard/content_bg/bottom_container/btn_replay"),function(){a.utilsFB.log("ev_click_button_replay_leaderboard"),a.ui.hideLayer("layer_leaderboard"),a.game.replay()}),a.utils.addButtonComp(cc.find("Canvas/layer_leaderboard/content_bg/bottom_container/btn_invite"),function(){a.utilsFB.log("ev_click_button_invite_leaderboard"),a.social.invite(function(e){a.social.playerIdSendMessage=e})}),a.utils.addButtonComp(cc.find("Canvas/layer_leaderboard/content_bg/middle_container/leaderboard/tabs/friends"),function(){return a.leaderboard.onClickTab("friends")},!1),a.utils.addButtonComp(cc.find("Canvas/layer_leaderboard/content_bg/middle_container/leaderboard/tabs/global"),function(){return a.leaderboard.onClickTab("global")},!1),a.utils.addButtonComp(cc.find("Canvas/layer_pause/btn_restart"),function(){a.utilsFB.log("ev_click_button_replay_pause"),a.interAd.showInterAds("Canvas/layer_pause/btn_restart",function(){a.game.triplePoint=!1,a.fx.effectTriple(!1),a.ui.hideLayer("layer_pause"),a.game.replay()})}),a.utils.addButtonComp(cc.find("Canvas/layer_pause/btn_continue"),function(){a.utilsFB.log("ev_click_button_continue_pause"),a.ui.hideLayer("layer_pause")}),a.utils.addButtonComp(cc.find("Canvas/layer_pause/btn_localize"),function(){console.log("Clickk Localize"),a.localize.onClickChangeLocalize()}),a.utils.addButtonComp(cc.find("Canvas/play_area/btn_pause"),function(){a.tut.isTutDone&&(a.tutTriple.showing||a.tutBom.showing||a.tutRolated.showing||a.tutRelocated.showing||(a.utilsFB.log("ev_click_button_pause"),a.ui.showLayer("layer_pause")))}),a.utils.addButtonComp(cc.find("Canvas/layer_alert/btn_ok"),function(){a.ui.hideLayer("layer_alert"),a.ui.alertCloseCallback&&(a.ui.alertCloseCallback(),a.utils.setTimeout(function(){a.ui.alertCloseCallback=null},1e3))}),a.fx.bubbleForever(cc.find("Canvas/layer_result/btn_brag")),a.utils.addButtonComp(cc.find("Canvas/layer_result/btn_replay"),function(){a.utilsFB.log("ev_click_button_replay_result"),a.ui.hideLayer("layer_result"),a.game.replay(),a.interAd.checkToShowReplayAd()}),a.utils.addButtonComp(cc.find("Canvas/layer_result/btn_brag"),function(){a.utilsFB.log("ev_click_button_brag_result"),a.social.share(a.user.score)}),a.utils.addButtonComp(cc.find("Canvas/layer_challenge/content/btn_c_play"),function(){a.utilsFB.log("ev_click_button_context"),a.social.createContext(a.uiChallenge.selectedFriend.id,function(){a.social.playerIdSendMessage=a.uiChallenge.selectedFriend.id,a.ui.hideLayer("layer_challenge"),a.uiChallenge.resetCountCancel(),a.game.replay()})}),a.utils.addButtonComp(cc.find("Canvas/layer_challenge/content/btn_c_play_another"),function(){a.utilsFB.log("ev_click_button_invite_another_friend"),a.social.invite(function(e){a.social.playerIdSendMessage=e,a.ui.hideLayer("layer_challenge"),a.game.replay(),a.uiChallenge.resetCountCancel(),_log(" onBtnPlayWithAnother >> _GAME.challenge.resetChallengCancelTimeArr(); ")})}),a.utils.addButtonComp(cc.find("Canvas/layer_challenge/content/btn_c_cancel"),function(){a.utilsFB.log("ev_click_button_cancel_comback_result"),a.ui.hideLayer("layer_challenge"),a.uiChallenge.saveCountCancel(),a.uiChallenge.countCancelChallenge++,a.utils.setTimeout(function(){a.ui.showLayer("layer_result")},200)});var e=cc.find("Canvas/layer_video_continue/btn_save_me");a.fx.bubbleForever(e),a.utils.addButtonComp(e,function(){a.ui.hideLayer("layer_video_continue"),a.utilsFB.log("ev_click_video_continue"),1==a.game.videoContinueLeft&&a.utilsFB.log("ev_click_video_continue_3rd"),a.configs.off_inter_ads?a.ui.showAlert("Oops!\n\nSomething went wrong",function(){return a.game.onVideoContinueSuccess()}):a.video.showVideo(a.game.onVideoContinueSuccess,a.game.onVideoContinueFail)}),a.utils.addButtonComp(cc.find("Canvas/layer_video_continue/btn_cancel"),function(){a.utilsFB.log("ev_cancel_video_continue"),a.ui.hideLayer("layer_video_continue"),a.game.realGameOver()})},showLayer:function(e){var t=cc.find("Canvas/"+e);t&&(t.active=!0)},hideLayer:function(e){var t=cc.find("Canvas/"+e);t&&(t.active=!1)},showAlert:function(e,t){a.ui.showLayer("layer_alert"),a.utils.setLabelText(cc.find("Canvas/layer_alert/label_message"),e),a.ui.alertCloseCallback=t},showLoading:function(){a.ui.showLayer("layer_loading"),a.ui.hideLoadingTimer&&clearTimeout(a.ui.hideLoadingTimer),a.ui.hideLoadingTimer=setTimeout(function(){return a.ui.hideLoading()},1e4)},hideLoading:function(){a.ui.hideLayer("layer_loading"),a.ui.hideLoadingTimer&&clearTimeout(a.ui.hideLoadingTimer)},showNagScreen:function(){cc.find("Canvas/nag_screen").active=!0},hideNagScreen:function(){cc.find("Canvas/nag_screen").active=!1},disableButton:function(e){e.getComponent(cc.Button)||_log("KHoong ton tai button component"),e.getComponent(cc.Button)&&(e.getComponent(cc.Button).enabled=!1),e.opacity=parseInt(76.5)},enableButton:function(e){e.getComponent(cc.Button)&&(e.getComponent(cc.Button).enabled=!0),e.opacity=255},showCompliment:function(e){var t=cc.find("Canvas/play_area/labels/compliment"),n=t.getChildByName("label");a.utils.setLabelText(n,e),t.stopAllActions(),t.scale=0,t.runAction(cc.sequence(cc.scaleTo(.2,1.15).easing(cc.easeOut(3)),cc.scaleTo(.1,1).easing(cc.easeIn(1)),cc.delayTime(2),cc.scaleTo(.1,1.15).easing(cc.easeOut(1)),cc.scaleTo(.2,0).easing(cc.easeIn(3))))},updateScore:function(e){var t=cc.find("Canvas/play_area/labels/label_score"),n=cc.find("Canvas/layer_result/score");t.runAction(cc.sequence(cc.scaleTo(.1,1.5),cc.callFunc(function(){return a.utils.setLabelText(t,a.utils.localizeNumber(e)+"")}),cc.scaleTo(.17,1))),a.utils.setLabelText(n,a.utils.localizeNumber(e)+""),a.utils.setLabelText(cc.find("Canvas/layer_leaderboard/label_your_score"),a.utils.localizeNumber(e)+"")},updateHighScore:function(){var e=cc.find("Canvas/play_area/labels/label_best_score"),t=cc.find("Canvas/layer_result/best_score");e.runAction(cc.sequence(cc.scaleTo(.1,1.5),cc.callFunc(function(){return a.utils.setLabelText(e,a.utils.localizeNumber(a.user.bestScore)+"")}),cc.scaleTo(.17,1))),a.utils.setLabelText(t,a.utils.localizeNumber(a.user.bestScore)+"")}};n.ui=i,cc._RF.pop()},{"../all_modules":"all_modules"}],user:[function(e,t,n){"use strict";cc._RF.push(t,"b3916Cr0xZNR4wdZkgex0oE","user"),n.__esModule=!0,n.user=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={id:0,name:0,score:0,bestScore:0,init:function(){window.FBInstant?(a.user.id=FBInstant.player.getID(),a.user.name=FBInstant.player.getName(),a.user.photo=FBInstant.player.getPhoto(),window.canPromo=(FBInstant.getPlatform(),!1)):(a.user.id="xxxxaa111",a.user.name="Tkgiet",a.user.photo="")},initNewUser:function(e){Object.assign(e,{LoginTime:0,PlayerExp:0,PlayerLevel:0}),a.data.saveData(e)}};n.user=i,cc._RF.pop()},{"../all_modules":"all_modules"}],utils_facebook:[function(e,t,n){"use strict";cc._RF.push(t,"5b138caZD9P56PDxVG2UzIA","utils_facebook"),n.__esModule=!0,n.utilsFB=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={init:function(){a.utilsFB.startLogSessionTime(),window.FBInstant&&(FBInstant.onPause(function(){}),window.fbSupportedAPIs=FBInstant.getSupportedAPIs())},log:function(e,t,n){void 0===t&&(t=1),window.FBInstant&&FBInstant.logEvent(e,t,n)},setSessionId:function(e){window.FBInstant&&FBInstant.setSessionData({player_id:e})},isSupportedAPI:function(e){return!!window.FBInstant&&-1!=FBInstant.getSupportedAPIs().indexOf(e)},startLogSessionTime:function(){var e=function(e){a.utilsFB.log("ev_session_time_total",1,{timePassed:e})},t=function(e){a.utilsFB.log("ev_session_time_5",1,{timePassed:e})},n=function(e){a.utilsFB.log("ev_session_time_10",1,{timePassed:e})},o=function(e){a.utilsFB.log("ev_session_time_15",1,{timePassed:e})},i=function(e){a.utilsFB.log("ev_session_time_20",1,{timePassed:e})},r=function(e){a.utilsFB.log("ev_session_time_25",1,{timePassed:e})},c=function(e){a.utilsFB.log("ev_session_time_30",1,{timePassed:e})};e(0),t(0),n(0),o(0),i(0),r(0),c(0);var l=0,u=0,s=0,d=0,f=0,p=0,_=0;setInterval(function(){e(l+=30)},3e4),setTimeout(function(){t(u+=5)},5e3),setTimeout(function(){n(s+=10)},1e4),setTimeout(function(){o(d+=15)},15e3),setTimeout(function(){i(f+=20)},2e4),setTimeout(function(){r(p+=25)},25e3),setTimeout(function(){c(_+=30)},3e4)}};n.utilsFB=i,cc._RF.pop()},{"../all_modules":"all_modules"}],utils_instant:[function(e,t){"use strict";cc._RF.push(t,"0e565NOhCJBaLiVqI5Gq/x3","utils_instant"),window._NO_CONSOLE_LOG=!0,window._soundVolume=1,window._isANDROID=cc.sys.os==cc.sys.OS_ANDROID,window._isIOS=cc.sys.os==cc.sys.OS_IOS,window._max=Math.max,window._min=Math.min,window._round=Math.round,window._floor=Math.floor,window._ceil=Math.ceil,window._abs=Math.abs,window._random=Math.random,window._sqrt=Math.sqrt,window._atan2=Math.atan2,window._PI=Math.PI,window._removeArrItem=function(e,t){var n=e.indexOf(t);if(-1!=n)return e.splice(n,1),!0},window._time=function(){return(new Date).getTime()},window._isString=function(e){return"string"==typeof e},window._isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},window._log=function(){if(!window._NO_CONSOLE_LOG)try{var e;(e=console).log.apply(e,arguments)}catch(t){}},cc._RF.pop()},{}],utils:[function(e,t,n){"use strict";cc._RF.push(t,"6af40wv8gxJMqHDcnTCm7qO","utils"),n.__esModule=!0,n.utils=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function r(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var l=1e5,u={textureCaches:{},init:function(){a.utils.canvasNode=cc.find("Canvas")},setTimeout:function(e,t){void 0===t&&(t=0);var n={_id:l++,__instanceId:l,callback:function(){e(n)}};return cc.director.getScheduler().schedule(n.callback,n,t/1e3,0,0,!1),n},clearTimeout:function(e){e&&e._id&&e.callback&&cc.director.getScheduler().unschedule(e.callback,e)},addButtonComp:function(e,t,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0),setTimeout(function(){e.getComponent("free_button_comp")||e.addComponent("free_button_comp");var o=e.addComponent(cc.Button);o.transition=n?cc.Button.Transition.SCALE:null;var i=new cc.Component.EventHandler;i.target=e,i.component="free_button_comp",i.handler="freeHandler",o.clickEvents.push(i),e.freeButtonHandlerFunc=function(){t(),a.audio.playSoundClickButton()}})},getNodePath:function(e){for(var t=[e.name],n=e.parent,a=0;n&&a++<50&&n.parent;)t.push(n.name),n=n.parent;return t.reverse().join("/")},getChildByPath:function(e,t){try{var n=e;return t.split("/").map(function(e){n=n.getChildByName(e)}),n}catch(a){return console.warn(" Error calling getChildByPath("+t+") : "+a.message+" "),null}},getComponentName:function(e){return e.split("<")[1].replace(">","")},setOrgPos:function(e){e&&(e.orgPos||(e.orgPos=e.getPosition()),e.setPosition(e.orgPos))},getGlobalPosition:function(e){var t=e.parent,n=e.x,a=e.y,o=0;for(t||_log(" parent=null // node = "+e+" ");t&&"Canvas"!=t.name&&o++<100;)n=n*t.scaleX+t.x,a=a*t.scaleY+t.y,t=t.parent;return cc.v2(n,a)},global2LocalPosDiff:function(e,t,n){for(var a=e.parent,o=[],i=0;"Canvas"!=a.name&&i++<100;)o.push(a),a=a.parent;var r=t,c=n;return o.reverse().map(function(e){r=(r-e.x)/e.scaleX,c=(c-e.y)/e.scaleY}),cc.v2(r-e.x,c-e.y)},setGlobalPositionToNode:function(e,t){var n=a.utils.getGlobalPosition(t),o=a.utils.global2LocalPosDiff(e,n.x,n.y);return e.x+=o.x,e.y+=o.y,n},randomArrItem:function(e,t){void 0===t&&(t=!1);var n=_floor(_random()*e.length);return t?e.splice(n,1)[0]:e[n]},randomObjectProp:function(e,t){void 0===t&&(t=!1);var n=Array.from(Object.keys(e)),o=a.utils.randomArrItem(n),i=e[o];return t&&delete e[o],i},getRandomInt:function(e,t){return e+Math.random()*(t-e)},randomItemFromRatioSet:function(e){var t=0,n=[];e.map(function(e){t+=e.ratio,n.push(t)});var a=parseInt(_random()*t),o=0;return n.some(function(e,t){if(a<e)return o=t,!0}),e[o]},secondsToTime:function(e){return{days:Math.floor(e/86400),hours:Math.floor(e%86400/3600),minutes:Math.floor(e%3600/60),seconds:e%60}},secondsToTimeString:function(e){var t=this.secondsToTime(e),n=t.days,a=t.hours,o=t.minutes,i=t.seconds;return n>0?n+" day"+(n>1?"s":""):a>0?a+" hr"+(a>1?"s":""):o>0?o+" min"+(o>1?"s":""):(i||0)+" sec"+(i>1?"s":"")},secondsToTimeCountdown:function(e){if(e<=0)return"00:00";var t=this.secondsToTime(e),n=t.days,a=t.hours,o=t.minutes,i=t.seconds;if(n>0)return n+" day"+(n>1?"s":"");var r="";return a>0&&(r=("0"+a).slice(-2)+":"),(r+=("0"+o).slice(-2)+":")+("0"+i).slice(-2)},setLabelCountDownTimer:function(e,t,n,o){var i=e;_isString(i)&&(i=cc.find(i)),i.countDownTimerVar&&clearInterval(i.countDownTimerVar);var r=function(){if(i.parent){var e=_time(),r=t-e,c=a.utils.secondsToTimeCountdown(_floor(r/1e3)),l=(o||"xxx").replace("xxx",c);a.utils.setLabelText(i,l),r<=0&&(clearInterval(i.countDownTimerVar),n&&n())}else clearInterval(i.countDownTimerVar)};i.countDownTimerVar=setInterval(r,500),r()},waitToRun:function(e,t,n,o,i,r){void 0===n&&(n=window),void 0===o&&(o=.1);var c=!1,l=setInterval(function(){if(t.includes("()")){if(!n[t.replace("()","")]())return}else if(!n[t])return;clearInterval(l),c=!0,e()},1e3*o);i&&a.utils.setTimeout(function(){clearInterval(l),r&&!c&&r()},1e3*i)},extendObj:function(e,t,n){n.map(function(n){t[n]=e[n]})},setNodeProps:function(e,t,n,a,o,i){t&&(e.width=t),n&&(e.height=n),a&&(e.x=a),o&&(e.y=o),i&&(e.scale=i)},preloadImage:function(e,t){if(a.utils.textureCaches[e])return t&&t(a.utils.textureCaches[e]);cc.loader.loadRes(e,cc.SpriteFrame,function(n,o){n?t&&t(!1):(a.utils.textureCaches[e]=o,t&&t(o))})},copyTexture:function(e,t){(t.getComponent(cc.Sprite)||t.addComponent(cc.Sprite)).spriteFrame=e.getComponent(cc.Sprite).spriteFrame},setNodeImgFromUrl:function(e,t){e.isTextureFromURL=!0,a.utils.textureCaches[t]||(a.utils.textureCaches[t]=new cc.SpriteFrame(t)),a.utils.setNodeImgFromSpriteFrame(e,a.utils.textureCaches[t])},setNodeImgFromResources:function(e,t,n,o){void 0===n&&(n=!1),e.isTextureFromResource=!0,e.currentTexturePath=t,a.utils.textureCaches[t]?(e.getComponent(cc.Sprite).enabled=!0,a.utils.setNodeImgFromSpriteFrame(e,a.utils.textureCaches[t],!n,n),o&&o()):cc.loader.loadRes(t,cc.SpriteFrame,function(i,r){i||(a.utils.textureCaches[t]=r,e.currentTexturePath==t&&(e.getComponent(cc.Sprite).enabled=!0,a.utils.setNodeImgFromSpriteFrame(e,a.utils.textureCaches[t],!n,n),o&&o()))})},setNodeImgFromSpriteFrame:function(e,t,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1);var i=e.width,r=e.height;e.getComponent(cc.Sprite)||e.addComponent(cc.Sprite),a.utils.waitToRun(function(){if(e.getComponent(cc.Sprite).spriteFrame=t,n?(e.width=0!=i?i:t._originalSize.width,e.height=0!=r?r:t._originalSize.height):(0!=t._originalSize.width&&(e.width=t._originalSize.width),0!=t._originalSize.height&&(e.height=t._originalSize.height)),o){var a=e.getComponent(cc.Sprite).spriteFrame;e.width=a._originalSize.width,e.height=a._originalSize.height}},"textureLoaded()",t)},setNodeImg:function(e,t,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=!1),"string"==typeof t)this.isURL(t)?a.utils.setNodeImgFromUrl(e,t):a.utils.setNodeImgFromResources(e,t,o);else if(t instanceof cc.SpriteFrame)a.utils.setNodeImgFromSpriteFrame(e,t,n,o);else if(t instanceof cc.Node){var i=t.getComponent(cc.Sprite);if(!i)return;a.utils.setNodeImgFromSpriteFrame(e,i.spriteFrame,n,o)}},setLabelText:function(e,t){if(e)if("string"==typeof t){if("number"==typeof t)return void(e.getComponent(cc.Label).string=t);for(var n="",o=0;o<t.length;o++){var i=t[o];" "!=i&&(n+=i)}var r=n.toUpperCase(),c=a.localize.convertPosition(r);0!=c.length?e.getComponent(cc.Label).string=c:e.getComponent(cc.Label).string=t}else e.getComponent(cc.Label).string=t},setLabelTextBigNumber:function(e,t){e&&(isNaN(t)&&(t=0),e.getComponent(cc.Label).string=a.utils.formatCurrency(t,999999999999999))},setLabelTextPrice:function(e,t,n){if(e){var o=_isString(t)&&t.startsWith("+"),i=o?parseInt(t.replace("+","")):t,r=a.utils.formatCurrency(i,n);e.getComponent(cc.Label).string=(o?"+":"")+r}},setLabelTextShotcut:function(e,t){if(e){if(!t.length)return;var n=t.length>6?t.slice(0,6):t;e.getComponent(cc.Label).string=n+"..."}},moveNodeTo:function(e,t,n){void 0===n&&(n=!1);var a=n?cc.instantiate(e):e;return t&&a.parent!=t&&(a.removeFromParent(!1),t.addChild(a)),a},copyNodeTo:function(e,t){var n=a.utils.moveNodeTo(e,t,!0),o=e.getComponentsInChildren(cc.Sprite),i=n.getComponentsInChildren(cc.Sprite);return o.map(function(e,t){var n=e.node,o=i[t].node;a.utils.extendObj(n,o,["width","height"]),n.onTouchEnd&&o.on("touchend",n.onTouchEnd)}),n},prefabToNode:function(e){return cc.instantiate(a.prefabList[e])},preloadPrefabToNode:function(e,t,n){var o=a.utils.prefabToNode(e);o.name=t,o.parent=n,o.setPosition(0,0),o.active=!1},formatNumber:function(e){return e.toLocaleString("en")},formatCurrency:function(e,t){var n=Math.floor(e),a="";if(n>t)for(var o,r=i(["K","M","B","T","aa","ab","ad","ae","af"]);!(o=r()).done;){var c=o.value;if((n/=1e3)<t){a=c;break}}return n.toFixed(0).replace(",",".").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+a},isURL:function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},singleTouchSet:function(e,t,n,a){var o=cc.winSize.width/2,i=cc.winSize.height/2,r=function(e,t){var n=t.touch.getLocation();e(cc.v2(n.x-o,n.y-i),t)};e.on("touchstart",function(n){e.touchingID||(e.touchingID=n.touch._id+1,t&&r(t,n))}),n&&e.on("touchmove",function(t){t.touch._id+1==e.touchingID&&n&&r(n,t)});var c=function(t){t.touch._id+1==e.touchingID&&(e.touchingID=null,a&&r(a,t))};e.on("touchend",c),e.on("touchcancel",c)},removeTouchHandler:function(e){e.isDraggable=!1,e.touchStartHandlerArr=e.touchMoveHandlerArr=e.touchEndHandlerArr=null,e.off("touchstart"),e.off("touchend"),e.off("touchmove"),e.off("touchcancel")},localizeNumber:function(e){var t=".";switch(window.FBInstant?FBInstant.getLocale():"en_US"){case"en_US":case"en_GB":case"th_TH":t=",";break;case"fr_FR":case"fr_CA":case"ru_RU":t=" ";break;case"pl_PL":case"it_IT":case"hu_HU":t=""}for(var n="",a=e,o=0;a>=10;){o>0&&o%3==0&&(n=t+n);var i=a%10;n=i+""+n,a=(a-i)/10,o++}return o>0&&o%3==0&&(n=t+n),a+""+n}};n.utils=u,cc._RF.pop()},{"../all_modules":"all_modules"}],video:[function(e,t,n){"use strict";cc._RF.push(t,"8ba842dWP9Cx51qrZxFVQdg","video"),n.__esModule=!0,n.video=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../all_modules"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i={isAvailable:!1,loadingVideo:!1,rewardedVideo:null,init:function(){var e=this;window.FBInstant||(this.isAvailable=!0),a.video.preloadVideo(function(){_log("PRELOAD VIDEO OK"),e.isAvailable=!0},function(e){_log("PRELOAD VIDEO ERROR",e)})},preloadVideo:function(e,t){window.FBInstant?a.utilsFB.isSupportedAPI("getRewardedVideoAsync")?a.video.loadingVideo?t&&t({code:"LOADING"}):(a.video.loadingVideo=!0,FBInstant.getRewardedVideoAsync(a.configs.videoRewardId).then(function(n){n.loadAsync().then(function(){a.video.rewardedVideo=n,a.video.loadingVideo=!1,e&&e()}).catch(function(e){a.video.rewardedVideo=null,a.video.loadingVideo=!1,t&&t(e)})}).catch(function(e){a.video.rewardedVideo=null,a.video.loadingVideo=!1,t&&t(e)})):t&&t({code:"NOT_SUPPORTED"}):t&&t({code:"OFFLINE"})},showVideo:function(e,t,n){void 0===n&&(n="");var o=function(){e&&e()},i=function(e,n){t&&t(e,n)};if(!window.FBInstant)return o();a.video.rewardedVideo?(a.utilsFB.log("ev_video_click_show"),a.video.rewardedVideo.showAsync().then(function(){a.utilsFB.log("ev_watch_video_success",1,{}),a.utilsFB.log("Ads-Total-Video",1,{videoPos:n}),a.utilsFB.log("Ads-Total"),o(),a.video.preloadVideo()}).catch(function(e){console.log("VAO CASE NAY CO !!!",e.code," !!! ",e.message),a.video.isErrRewardNotCompleted(e)?a.utilsFB.log("ev_video_err_reward_not_completed"):a.utilsFB.log("ev_video_err_other"),i(e,a.video.isErrRewardNotCompleted(e)),a.video.preloadVideo()})):a.video.loadingVideo?a.utils.setTimeout(function(){return a.video.showVideo(o,i,n)},200):i({code:"VIDEO_IS_NULL"})},isErrRewardNotCompleted:function(e){return"USER_INPUT"==e.code}};n.video=i,cc._RF.pop()},{"../all_modules":"all_modules"}]},{},["all_modules","canvas_init","configs","block_collision_handler","cell_links","control","map","map_visual","data","game","login","user","friend","leaderboard","message","promo","share","social","tut","tut_bom","tut_relocated","tut_rolated","tut_triple","blockAsset","fx","label_listener","load_optimize","ui","ui_challenge","ui_power_item","audio","free_button_comp","inter_ad","localize","localize_auto_tranform","localize_config","md5","utils","utils_facebook","utils_instant","video"]);
//# sourceMappingURL=index.js.map
